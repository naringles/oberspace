{"version":3,"sources":["components/LoginContext.jsx","components/SearchContext.jsx","components/FilesRepo.jsx","components/NavComponent.jsx","components/Header.jsx","components/Footer.jsx","components/DrivesRepo.jsx","components/FileList.jsx","components/FolderChoices.jsx","components/UploadProgressBar.jsx","components/DriveList.jsx","components/AddDrives.jsx","components/FileUpload.jsx","components/UserHome.jsx","components/RegisterTab.jsx","components/LoginTab.jsx","components/SignUp.jsx","App.jsx","index.js","oneStorage.png"],"names":["LoginContext","createContext","LogInProvider","props","localState","JSON","parse","sessionStorage","getItem","useState","username","status","loggedIn","setLoggedIn","useEffect","setItem","stringify","Provider","value","children","SearchContext","SearchProvider","searchVal","setSearchVal","useMemo","FilterContext","FilterProvider","filterVal","setFilterVal","DarkContext","DarkProvider","localDarkState","darkMode","setDarkMode","FilesContext","FilesProvider","localStorage","files","setFiles","NavComponent","useContext","navBranImgClass","classNames","customSwitchClass","homeRoute","setValue","inputValue","setInputValue","console","log","document","querySelectorAll","forEach","element","style","backgroundColor","color","querySelector","Navbar","variant","expand","sticky","Brand","href","float","src","logo","width","height","className","alt","paddingTop","Toggle","aria-controls","Collapse","id","Nav","type","onChange","htmlFor","Autocomplete","event","newValue","onInputChange","newInputValue","clearOnEscape","clearOnBlur","freeSolo","label","options","map","file","fileName","renderInput","params","TextField","background","placeholder","Link","onClick","clearSession","fill","Header","clear","Footer","year","Date","getFullYear","margin","padding","fontSize","DrivesContext","DrivesProvider","drives","setDrives","DriveDeleteContext","DriveDeleteProvider","message","driveDeleted","setDriveDeleted","FileList","match","history","useHistory","window","location","hash","replaceState","split","fileList","setFileList","start","end","markers","setMarkers","slice","visibleArray","setVisibleArray","filter","fileFolderType","delFileConf","setDelFileConf","Card","position","left","top","title","right","length","Body","index","key","fileId","webViewLink","undefined","size","toFixed","e","fId","fName","folderType","axios","post","name","then","resp","data","success","catch","err","error","bottom","FolderChoices","handleSelect","target","innerText","Dropdown","as","ButtonGroup","drop","Menu","folder","Item","eventKey","Progress","percentage","role","DriveList","driveUsage","setDriveUsage","driveUsagePct","setDriveUsagePct","googleDrive","oneDrive","dropbox","driveTypes","setDriveTypes","driveExpand","setDriveExpand","drive","usage","parseFloat","storageUsage","limit","storageLimit","reduce","x","y","storageType","attributes","getNamedItem","handleDelete","driveId","driveType","driveIdDelete","reload","setTimeout","Title","ProgressBar","now","parseInt","marginTop","email","Math","round","confirmAlert","buttons","AddDrives","borderRight","FileUpload","show","upFiles","setUpFiles","fileNames","setFileNames","uploadPct","setUploadPct","setShow","messages","setMessage","fname","prevMsg","Set","handleSubmit","a","preventDefault","formData","FormData","i","upFile","item","append","headers","onUploadProgress","progressEvent","loaded","total","res","response","msg","Modal","onHide","handleClose","backdrop","keyboard","closeButton","onSubmit","multiple","overflowY","Home","mimeSuffixName","mimeSuffixValue","mimeSuffixMappings","Object","socketIO","process","sockIO","connect","on","createdAt","lastFetchDt","oldFiles","_","unionBy","driveAdded","setDriveAdded","queryString","search","urlParams","URLSearchParams","get","includes","showUpload","withCredentials","flat","sort","b","mimeSuffArr","mimeType","mimeSuff","toLowerCase","push","Register","useForm","register","watch","errors","nameTaken","setNameTaken","reset","ref","required","pattern","password","validate","cnfPassword","LoginTab","loginFail","setLoginFail","authenticate","SignUp","containerClasses","navClasses","navItemClasses","setRegister","paddingLeft","textShadow","App","path","exact","component","UserHome","ReactDOM","render","getElementById","module","exports"],"mappings":"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","file":"static/js/main.042ed139.chunk.js","sourcesContent":["import React, {useState,useEffect,createContext} from \"react\";\n\nexport const LoginContext=createContext();\n\nexport const LogInProvider = props => {\n    const localState = JSON.parse(sessionStorage.getItem(\"login\"));\n    const [loggedIn, setLoggedIn] = useState(localState || {username:'',status:false});\n \n    useEffect(() => {\n        sessionStorage.setItem(\"login\", JSON.stringify(loggedIn));\n    }, [loggedIn]);\n\n\n\n    return (\n        <LoginContext.Provider value={ [loggedIn, setLoggedIn] }>\n        {props.children}\n        </LoginContext.Provider>\n    );\n};","import React, {useState,useMemo,useEffect,createContext} from \"react\";\n\nexport const SearchContext=createContext();\n\nexport const SearchProvider = props => {\n    \n    const [searchVal, setSearchVal] = useState(\"\");\n\n    const value=useMemo(()=>({searchVal, setSearchVal}));\n\n    return (\n        <SearchContext.Provider value={value}>\n        {props.children}\n        </SearchContext.Provider>\n    );\n};\n\n\nexport const FilterContext=createContext();\n\nexport const FilterProvider = props => {\n    \n    const [filterVal, setFilterVal] = useState(\"\");\n    const value=useMemo(()=>({filterVal, setFilterVal}));\n\n    return (\n        <FilterContext.Provider value={value}>\n        {props.children}\n        </FilterContext.Provider>\n    );\n};\n\n\nconst localDarkState = JSON.parse(sessionStorage.getItem(\"dark\"));\n\nexport const DarkContext=createContext();\n\nexport const DarkProvider = props => {\n    \nconst localDarkState = JSON.parse(sessionStorage.getItem(\"dark\"));\nconst [darkMode, setDarkMode] = useState(localDarkState||false);\n \nuseEffect(() => {\n    sessionStorage.setItem(\"dark\", darkMode);\n}, [darkMode]);\n\n    const value=useMemo(()=>({darkMode, setDarkMode}));\n\n    return (\n        <DarkContext.Provider value={value}>\n        {props.children}\n        </DarkContext.Provider>\n    );\n};\n\n","import React, {useState,createContext,useMemo,useEffect} from \"react\";\n\nexport const FilesContext=createContext();\n\nexport const FilesProvider = props => {\n    const localState = JSON.parse(localStorage.getItem(\"files\"));\n    \n    const [files, setFiles] = useState(localState || []);\n    \n    useEffect(() => {\n        localStorage.setItem(\"files\", JSON.stringify(files));\n\n    }, [files]);\n\n    const value=useMemo(()=>({files, setFiles}));\n\n    return (\n        <FilesContext.Provider value={value}>\n        {props.children}\n        </FilesContext.Provider>\n    );\n};","import React, { useContext, useState, useEffect } from \"react\";\nimport HighlightIcon from \"@material-ui/icons/Highlight\";\nimport classNames from \"classnames\";\nimport ExitToAppTwoToneIcon from \"@material-ui/icons/ExitToAppTwoTone\";\nimport { LoginContext } from \"./LoginContext\";\nimport { FilesContext } from \"./FilesRepo\";\nimport { SearchContext, DarkContext } from \"./SearchContext\";\nimport HomeIcon from \"@material-ui/icons/Home\";\nimport {\n  Container,\n  Navbar,\n  Nav,\n  Form,\n  Button,\n  NavDropdown,\n} from \"react-bootstrap\";\nimport logo from \"../oneStorage.png\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\n\nconst NavComponent = (props) => {\n  const [loggedIn, setLoggedIn] = useContext(LoginContext);\n  const { searchVal, setSearchVal } = useContext(SearchContext);\n  const { files, setFiles } = useContext(FilesContext);\n  const navBranImgClass = classNames(\"d-inline-block\", \"align-top\");\n  const customSwitchClass = classNames(\n    \"custom-control\",\n    \"custom-switch\",\n    \"darkMode\"\n  );\n  const homeRoute = \"/user/home/\" + loggedIn.username;\n  // const userDetailsRoute=\"/\"+loggedIn.type+\"/userDetails\";\n  // const merchantDetailsRoute=\"/\"+loggedIn.type+\"/merchantDetails\";\n  const headerPadding = {\n    paddingLeft: \"10rem\",\n  };\n\n  // console.log(\"userDetailsRoute: \",userDetailsRoute);\n\n  const [value, setValue] = useState(\"\");\n  const [inputValue, setInputValue] = useState(\"\");\n  const { darkMode, setDarkMode } = useContext(DarkContext);\n  const changeMode = () => {\n    setDarkMode(!darkMode);\n  };\n  useEffect(() => {\n    console.log(\"dark mode: \", darkMode);\n    if (darkMode) {\n      var elements = document.querySelectorAll(\n        \"body,.card,.list-group-item,.tooltiptext\"\n      );\n      elements.forEach((element) => {\n        element.style.backgroundColor = \"#000\";\n        element.style.color = \"#fff\";\n      });\n      document.querySelector(\".footerComp\").style.color = \"#fff\";\n    } else {\n      var elements = document.querySelectorAll(\n        \"body,.card,.list-group-item,.tooltiptext\"\n      );\n      elements.forEach((element) => {\n        element.style.backgroundColor = \"#fff\";\n        element.style.color = \"#000\";\n        document.querySelector(\".footerComp\").style.color = \"#000\";\n      });\n    }\n  }, [darkMode]);\n\n  // console.log(\"body color:\", );\n\n  return (\n    <Navbar variant=\"dark\" expand=\"lg\" sticky=\"top\">\n      <Navbar.Brand href={homeRoute}>\n        <img\n          style={{ float: \"left\" }}\n          src={logo}\n          width=\"80\"\n          height=\"60\"\n          className={navBranImgClass}\n          alt=\"CheckMeIn logo\"\n        />\n        <h3 style={{ paddingTop: \"10%\" }}>Oberspace</h3>\n      </Navbar.Brand>\n      <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\n      <Navbar.Collapse id=\"basic-navbar-nav\">\n        <Nav className=\"ml-auto\">\n          <div className={customSwitchClass}>\n            <input\n              type=\"checkbox\"\n              onChange={changeMode}\n              className=\"custom-control-input\"\n              id=\"customSwitch1\"\n            />\n            <label className=\"custom-control-label\" htmlFor=\"customSwitch1\">\n              {darkMode ? <span>다크 모드</span> : <span>라이트 모드</span>}\n            </label>\n          </div>\n        </Nav>\n\n        <Nav className=\"ml-auto\">\n          <Autocomplete\n            value={value}\n            onChange={(event, newValue) => {\n              setValue(newValue);\n              setSearchVal(newValue);\n            }}\n            inputValue={inputValue}\n            onInputChange={(event, newInputValue) => {\n              setInputValue(newInputValue);\n            }}\n            id=\"free-solo-demo\"\n            clearOnEscape\n            clearOnBlur\n            freeSolo\n            label=\"Search\"\n            options={files.map((file) => file.fileName)}\n            style={{ width: \"100%\", height: \"10%\" }}\n            renderInput={(params) => (\n              <TextField\n                {...params}\n                style={{ background: \"white\", width: \"40vw\" }}\n                variant=\"outlined\"\n                placeholder=\"Search Files\"\n              />\n            )}\n          />\n        </Nav>\n\n        <Nav className=\"ml-auto\">\n          <Nav.Link href=\"/user/auth/logout\" onClick={props.clearSession}>\n            Logout <ExitToAppTwoToneIcon style={{ fill: \"white\" }} />\n          </Nav.Link>\n        </Nav>\n      </Navbar.Collapse>\n    </Navbar>\n  );\n};\n\nexport default NavComponent;\n","import React, { useContext, useState, useEffect } from \"react\";\nimport HighlightIcon from \"@material-ui/icons/Highlight\";\nimport classNames from \"classnames\";\nimport { LoginContext } from \"./LoginContext\";\nimport { DarkContext } from \"./SearchContext\";\n\nimport HomeIcon from \"@material-ui/icons/Home\";\nimport NavComponent from \"./NavComponent\";\nimport logo from \"../oneStorage.png\";\nimport { Navbar, Nav, Form, Button, NavDropdown } from \"react-bootstrap\";\nfunction Header() {\n  const [loggedIn, setLoggedIn] = useContext(LoginContext);\n\n  const navBranImgClass = classNames(\"d-inline-block\", \"align-top\");\n  const customSwitchClass = classNames(\n    \"custom-control\",\n    \"custom-switch\",\n    \"darkMode\"\n  );\n  const homeRoute = \"/\";\n  const { darkMode, setDarkMode } = useContext(DarkContext);\n\n  const changeMode = () => {\n    setDarkMode(!darkMode);\n  };\n  useEffect(() => {\n    if (darkMode) {\n      var elements = document.querySelectorAll(\"body,.card,.list-group-item\");\n      elements.forEach((element) => {\n        element.style.backgroundColor = \"#000\";\n        element.style.color = \"#fff\";\n      });\n    } else {\n      var elements = document.querySelectorAll(\"body,.card,.list-group-item\");\n      elements.forEach((element) => {\n        element.style.backgroundColor = \"#fff\";\n        element.style.color = \"#000\";\n      });\n    }\n  }, [darkMode]);\n\n  const clearSession = () => {\n    setLoggedIn({ username: \"\", status: false });\n    sessionStorage.clear();\n  };\n\n  return (\n    <header>\n      {loggedIn.status ? (\n        <NavComponent clearSession={clearSession} />\n      ) : (\n        <Navbar variant=\"dark\" sticky=\"top\">\n          <Navbar.Brand href={homeRoute}>\n            <img\n              style={{ float: \"left\" }}\n              src={logo}\n              width=\"80\"\n              height=\"60\"\n              className={navBranImgClass}\n              alt=\"oneStorage logo\"\n            />\n            <h3 style={{ paddingTop: \"10%\" }}>Oberspace</h3>\n          </Navbar.Brand>\n          <Nav className=\"ml-auto\">\n            <div className={customSwitchClass}>\n              <input\n                type=\"checkbox\"\n                onChange={changeMode}\n                className=\"custom-control-input\"\n                id=\"customSwitch1\"\n              />\n              <label className=\"custom-control-label\" htmlFor=\"customSwitch1\">\n                {darkMode ? <span>다크 모드</span> : <span>라이트 모드</span>}\n              </label>\n            </div>\n          </Nav>\n        </Navbar>\n      )}\n    </header>\n  );\n}\n\nexport default Header;\n","import React, { useContext } from \"react\";\nimport { LoginContext } from \"./LoginContext\";\nimport {\n  Container,\n  Navbar,\n  Nav,\n  Form,\n  Button,\n  NavDropdown,\n} from \"react-bootstrap\";\nfunction Footer() {\n  const year = new Date().getFullYear();\n  const [loggedIn, setLoggedIn] = useContext(LoginContext);\n  const homeRoute = \"/user/home/\" + loggedIn.username;\n  return (\n    <Navbar\n      style={{\n        background: \"none\",\n        height: \"5vh\",\n        margin: \"5% 0 0 0\",\n        padding: \"1.5% 0 0.5% 0\",\n      }}\n      expand=\"lg\"\n      sticky=\"bottom\"\n    >\n      <Nav className=\"ml-auto mr-auto\">\n        <Navbar.Brand href={homeRoute}>\n          <p style={{ fontSize: \"medium\" }} className=\"footerComp\">\n            Copyright ⓒ {year}\n          </p>\n        </Navbar.Brand>\n      </Nav>\n    </Navbar>\n  );\n}\n\nexport default Footer;\n","import React, {useState,createContext,useMemo,useEffect} from \"react\";\n\nexport const DrivesContext=createContext();\n\nexport const DrivesProvider = props => {\n    const localState = JSON.parse(sessionStorage.getItem(\"drives\"));\n\n    const [drives, setDrives] = useState(localState || []);\n    \n    useEffect(() => {\n        sessionStorage.setItem(\"drives\", JSON.stringify(drives));\n    }, [drives]);\n\n    const value=useMemo(()=>({drives, setDrives}));\n\n    return (\n        <DrivesContext.Provider value={value}>\n        {props.children}\n        </DrivesContext.Provider>\n    );\n};\n\n\nexport const DriveDeleteContext=createContext();\n\nexport const DriveDeleteProvider = props => {\n    \n    const [driveDeleted,setDriveDeleted] = useState({status:false,message:\"\"});\n    const value=useMemo(()=>({driveDeleted,setDriveDeleted}));\n\n    return (\n        <DriveDeleteContext.Provider value={value}>\n        {props.children}\n        </DriveDeleteContext.Provider>\n    );\n};\n","import React, { useState, useEffect, useContext } from \"react\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\nimport { LoginContext } from \"./LoginContext\";\nimport { DrivesContext } from \"./DrivesRepo\";\nimport { FilesContext } from \"./FilesRepo\";\nimport { SearchContext, FilterContext } from \"./SearchContext\";\nimport _ from \"lodash\";\nimport SkipNextIcon from \"@material-ui/icons/SkipNext\";\nimport SkipPreviousIcon from \"@material-ui/icons/SkipPrevious\";\nimport ClearIcon from \"@material-ui/icons/Clear\";\nimport { Card } from \"react-bootstrap\";\nimport classNames from \"classnames\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\n\nfunction FileList({ match }) {\n  const { searchVal, setSearchVal } = useContext(SearchContext);\n  const { filterVal, setFilterVal } = useContext(FilterContext);\n  let history = useHistory();\n  if (window.location.hash === \"#_=_\") {\n    history.replaceState\n      ? history.replaceState(null, null, window.location.href.split(\"#\")[0])\n      : (window.location.hash = \"\");\n  }\n  const { drives, setDrives } = useContext(DrivesContext);\n  const { files, setFiles } = useContext(FilesContext);\n  const [fileList, setFileList] = useState(files);\n  const [loggedIn, setLoggedIn] = useContext(LoginContext);\n  const [markers, setMarkers] = useState({ start: 0, end: 10 });\n  const mimeSuffixName = [\n    \"octet-stream\",\n    \"vnd.google-apps.spreadsheet\",\n    \"vnd.google-apps.document\",\n    \"vnd.google-apps.presentation\",\n    \"pdf\",\n  ];\n  const mimeSuffixValue = [\n    \"Plain\",\n    \"Spreadsheet\",\n    \"WordDocument\",\n    \"PowerPoint\",\n    \"PDF\",\n  ];\n  const toolTipClasses = classNames(\"\");\n\n  const [visibleArray, setVisibleArray] = useState(\n    fileList.slice(markers.start, markers.end)\n  );\n  useEffect(() => {\n    console.log(\"visible array refresh due to marker\");\n    setVisibleArray(fileList.slice(markers.start, markers.end));\n  }, [markers]);\n\n  useEffect(() => {\n    console.log(\"marker refresh on new files arrival\");\n    setMarkers({ start: 0, end: 10 });\n  }, [fileList]);\n\n  useEffect(() => {\n    if (searchVal !== null) {\n      console.log(\"search val : \", searchVal);\n      setVisibleArray(fileList.filter((file) => file.fileName === searchVal));\n    } else {\n      console.log(\"search val is null\");\n      setVisibleArray(fileList.slice(markers.start, markers.end));\n    }\n  }, [searchVal]);\n\n  useEffect(() => {\n    if (filterVal !== \"\") {\n      setFileList(files.filter((file) => file.fileFolderType === filterVal));\n    } else {\n      setFileList(files);\n    }\n  }, [filterVal, files]);\n\n  const clearFilter = () => {\n    setFilterVal(\"\");\n  };\n\n  const goPrev = () => {\n    if (markers.start >= 10) {\n      setMarkers({ start: markers.start - 10, end: markers.end - 10 });\n    }\n  };\n  const goNext = () => {\n    if (markers.end <= fileList.length - 10) {\n      setMarkers({ start: markers.start + 10, end: markers.end + 10 });\n    }\n  };\n  const [delFileConf, setDelFileConf] = useState(-1);\n  const handleDelete = (fId, fName, folderType, event) => {\n    axios\n      .post(\"/action/file/delete\", {\n        id: fId,\n        folderType: folderType,\n        name: fName,\n      })\n      .then((resp) => {\n        console.log(\"Resp data: \", resp.data);\n        if (resp.data.success) {\n          setFiles(files.filter((file) => file.fileId !== fId));\n        }\n      })\n      .then(() => {\n        setDelFileConf(-1);\n      })\n\n      .catch((err) => {\n        console.error(err);\n      });\n  };\n  return (\n    <Card>\n      <div className=\"cardHeader\">\n        <Card.Header>\n          Files\n          {filterVal !== \"\" ? (\n            <div style={{ position: \"absolute\", left: \"15%\", top: \"1.5%\" }}>\n              <p>\n                File Type :{filterVal}{\" \"}\n                <button\n                  className=\"fileFilter\"\n                  title=\"clear\"\n                  onClick={clearFilter}\n                >\n                  <ClearIcon />\n                </button>\n              </p>\n            </div>\n          ) : null}\n          <div style={{ position: \"absolute\", right: \"1%\", top: \"1%\" }}>\n            <button className=\"prevIconB\" onClick={goPrev}>\n              <SkipPreviousIcon />\n            </button>{\" \"}\n            <button className=\"nextIconB\" onClick={goNext}>\n              <SkipNextIcon />\n            </button>\n          </div>\n        </Card.Header>\n      </div>\n      <Card.Body className=\"fileList\">\n        <div className=\"list-group\">\n          <ul>\n            {visibleArray.map((file, index) => (\n              <div key={file.fileId} className=\"fileRow\">\n                <div className=\"row\">\n                  <div className=\"col-md-10\">\n                    <a href={file.webViewLink}>\n                      {file.fileName}\n                      {file.size !== undefined ? (\n                        <span className=\"tooltiptext\">\n                          {(file.size / (1024 * 1024)).toFixed(3)} MB{\" \"}\n                        </span>\n                      ) : null}\n                    </a>\n                  </div>\n                  <div className=\"col-md-2\">\n                    {delFileConf === index ? (\n                      <div>\n                        <button\n                          className=\"btn btn-danger\"\n                          onClick={(e) =>\n                            handleDelete(\n                              file.fileId,\n                              file.fileName,\n                              file.fileFolderType,\n                              e\n                            )\n                          }\n                        >\n                          {\" \"}\n                          확인\n                        </button>{\" \"}\n                        <br /> <br />{\" \"}\n                        <button\n                          className=\"btn btn-success\"\n                          onClick={() => setDelFileConf(-1)}\n                        >\n                          {\" \"}\n                          취소\n                        </button>\n                      </div>\n                    ) : (\n                      <button\n                        className=\"fileDelete\"\n                        onClick={() => setDelFileConf(index)}\n                      >\n                        {\" \"}\n                        <DeleteIcon />\n                      </button>\n                    )}\n                  </div>\n                  {/* </li> */}\n                </div>\n              </div>\n            ))}\n          </ul>\n          <div\n            className=\"row\"\n            style={{ position: \"absolute\", right: \"1%\", bottom: \"-5%\" }}\n          ></div>\n        </div>\n      </Card.Body>\n    </Card>\n  );\n}\n\nexport default FileList;\n","import React, { useState, useEffect, useContext } from \"react\";\nimport _ from \"lodash\";\nimport { FilterContext } from \"./SearchContext\";\n\nimport { Card, Dropdown, DropdownButton, ButtonGroup } from \"react-bootstrap\";\nfunction FolderChoices() {\n  const FolderNames = [\n    \"PDF\",\n    \"WordDocument\",\n    \"Spreadsheet\",\n    \"PowerPoint\",\n    \"OneNote\",\n    \"Application\",\n    \"Compressed\",\n    \"Audio\",\n    \"Image\",\n    \"Video\",\n    \"Plain\",\n    \"Others\",\n  ];\n  const { filterVal, setFilterVal } = useContext(FilterContext);\n  const handleSelect = (event) => {\n    setFilterVal(event.target.innerText);\n  };\n  return (\n    <Dropdown id=\"dropdown-custom-2\" as={ButtonGroup} drop=\"right\">\n      <Dropdown.Toggle className=\"dropDToggle\">파일 타입 선택</Dropdown.Toggle>\n      <Dropdown.Menu className=\"menuColors\">\n        {FolderNames.map((folder, index) => (\n          <Dropdown.Item\n            key={index}\n            className=\"dropDText\"\n            eventKey={`${index}`}\n            onClick={handleSelect}\n          >\n            {\" \"}\n            {folder}\n          </Dropdown.Item>\n        ))}\n      </Dropdown.Menu>\n    </Dropdown>\n  );\n}\n\nexport default FolderChoices;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nconst Progress = ({ percentage }) => {\n  return (\n    <div className='upload progress' title={`${percentage}%`}>\n      <div\n        className='progress-bar progress-bar-striped bg-success'\n        role='progressbar'\n        style={{ width: `${percentage}%` }}        \n      >\n      <span className=\"progressPct\">{percentage}%</span>\n      </div>    \n    </div>\n  );\n};\n\nProgress.propTypes = {\n  percentage: PropTypes.number.isRequired\n};\n\nexport default Progress;","import React, { useState, useEffect,useContext } from \"react\";\nimport axios from \"axios\";\nimport {useHistory} from \"react-router-dom\";\nimport {LoginContext} from \"./LoginContext\";\nimport {DrivesContext,DriveDeleteContext} from \"./DrivesRepo\";\nimport {FilesContext} from \"./FilesRepo\";\nimport FolderChoices from \"./FolderChoices\";\nimport {SearchContext} from \"./SearchContext\";\nimport Progress from \"./UploadProgressBar\";\nimport _ from 'lodash';\nimport {ProgressBar, Card}  from 'react-bootstrap';\nimport {FaGoogleDrive,FaDropbox} from \"react-icons/fa\";\nimport {GrOnedrive} from \"react-icons/gr\";\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport { confirmAlert } from 'react-confirm-alert'; // Import\nimport 'react-confirm-alert/src/react-confirm-alert.css'; // Import css\n\nfunction DriveList({ match }) {\n  let history = useHistory();\n  const [loggedIn, setLoggedIn] = useContext(LoginContext);\n  const {drives, setDrives} = useContext(DrivesContext);\n  const {driveDeleted,setDriveDeleted} = useContext(DriveDeleteContext);\n  const [driveUsage, setDriveUsage] = useState({});\n  const [driveUsagePct, setDriveUsagePct] = useState();\n  const [driveTypes, setDriveTypes] = useState({googleDrive:\"\",oneDrive:\"\",dropbox:\"\"});\n  const [driveExpand, setDriveExpand] = useState(\"\");\n  useEffect(() => {\n    if(drives.length>0){\n    setDriveUsage(drives.map(drive=>  ({usage:parseFloat(drive.storageUsage),limit:parseFloat(drive.storageLimit)})).reduce((x,y)=>({usage:x.usage+y.usage,limit:x.limit+y.limit})));    \n    setDriveTypes({googleDrive:drives.filter(drive => drive.storageType===\"googleDrive\").length,\n    oneDrive:drives.filter(drive => drive.storageType===\"oneDrive\").length,\n    dropbox:drives.filter(drive => drive.storageType===\"dropbox\").length});\n    }\n\n  },[drives])\n\nuseEffect(() => {\n  setDriveUsagePct((driveUsage.usage/driveUsage.limit)*100);    \n  },[driveUsage])\n  \nconst handleSelect =(event)=>{\n  if(driveExpand.length===0)  \n  setDriveExpand(event.target.attributes.getNamedItem(\"name\").value);\n  else\n  setDriveExpand(\"\");\n}\n\nconst handleDelSubmit = (driveIdDelete) => {\n  confirmAlert({\n    title: 'Confirm to Delete',\n    message: 'Are you sure to delete this drive.',\n    buttons: [\n      {\n        label: 'Yes',\n        onClick: () => handleDelete(driveIdDelete)\n      },\n      {\n        label: 'No',\n        onClick: () => null\n      }\n    ]\n  });\n};\n\nconst handleDelete = (driveId,driveType,event)=>{ \n      \n       console.log(\"id to delete: \",driveId);\n  \n  axios\n  .post('/action/drive/delete', {driveIdDelete:driveId})\n  .then((resp)=>\n  {\n      if(resp.data.success)\n      {\n        setDrives(drives.filter(drive=>drive.id !==driveId));\n        window.location.reload();\n      }\n      setDriveDeleted({status:resp.data.success,message:resp.data.message});\n      setTimeout(()=> setDriveDeleted({status:false,message:\"\"}),10000);\n  })\n  .catch(err => {\n    console.error(err);\n  });\n  \n  \n  \n}\n  return (\n    <div>\n    <div className=\"row\">\n    <div className=\"col\"  style={{padding:\"0% 0% 1% 2%\",margin:\"0% 2% 1% 5%\"}}>\n    <FolderChoices/>\n    </div>\n    </div>\n    <div className=\"row\">\n    <div className=\"col\" style={{padding:\"0% 0% 1% 2%\",margin:\"0% 2% 1% 5%\"}}>\n    <Card>\n    <div className=\"cardHeader\"><Card.Header>Storage Info</Card.Header></div>\n    <Card.Body style={{padding:\"2% 1% 0% 2%\"}}>\n    <Card.Title>\n    {driveUsagePct >= 90 ? <ProgressBar now={driveUsagePct} variant=\"danger\"  label={`${((driveUsage.usage/driveUsage.limit)*100).toFixed(2)}%`}/>:\n     driveUsagePct >= 75 ? <ProgressBar now={driveUsagePct} variant=\"warning\"  label={`${((driveUsage.usage/driveUsage.limit)*100).toFixed(2)}%`}/>:\n     <ProgressBar style={{width:\"15vw\"}} now={driveUsagePct} variant=\"success\"  label={`${((driveUsage.usage/driveUsage.limit)*100).toFixed(2)}%`}/>} \n    </Card.Title>      \n      <p>Total Limit : {(driveUsage.limit/(1024*1024*1024)).toFixed(2)} GB</p>\n      <p>Total Usage : {(driveUsage.usage/(1024*1024*1024)).toFixed(2)} GB</p>    \n      </Card.Body>     \n    </Card>\n    </div>\n    </div>\n\n\n    <div className=\"row\">\n    <div className=\"col\"  style={{padding:\"0% 0% 1% 2%\",margin:\"0% 2% 1% 5%\"}}>\n    <Card>\n    <div className=\"cardHeader\"><Card.Header>Drives Info</Card.Header></div>\n    <Card.Body style={{padding:\"0% 1% 0% 2%\"}}>\n    <div className=\"list-group\">\n     <ul>\n    \n      <li onClick={handleSelect} className=\"list-group-item\" name=\"googleDrive\"> <FaGoogleDrive/> : {driveTypes.googleDrive} drives added </li>\n      <li onClick={handleSelect} className=\"list-group-item\" name=\"oneDrive\"> <GrOnedrive/> : {driveTypes.oneDrive} drive{parseInt(driveTypes.oneDrive)>1 && \"s\"} added </li>     \n      <li onClick={handleSelect} className=\"list-group-item\" name=\"dropbox\"> <FaDropbox/> : {driveTypes.dropbox} drive{parseInt(driveTypes.dropbox)>1 && \"s\"} added </li>\n      {driveExpand.length>0 ? \n      <div className=\"driveList\" style={{marginTop:\"5%\"}}>\n      <h5>{driveExpand}(s)</h5>\n        {drives.filter(drive=>drive.storageType===driveExpand).map((drive)=>(\n          <ol key={drive.id} style={{fontSize:\"smaller\"}}>\n          <li style={{padding:\"0\",margin:\"0\"}} className=\"list-group-item\">  {drive.email}<br/> \n          <Progress percentage={(Math.round(parseInt(drive.storageUsage)/parseFloat(drive.storageLimit)*10000)/100)} />          \n          <button className=\"fileDelete\" onClick={(e)=>handleDelSubmit(drive.id,e)}> <DeleteIcon/></button>\n          </li>\n          </ol>\n          \n        ))}\n      \n      </div>\n      :null\n      }\n     </ul>\n     </div>\n\n    </Card.Body>     \n    </Card>\n    </div>\n\n    </div>\n    </div>\n\n  );\n}\n\nexport default DriveList;\n","import React, { useState, useEffect, useContext } from \"react\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\nimport { LoginContext } from \"./LoginContext\";\nimport { DrivesContext } from \"./DrivesRepo\";\nimport { FilesContext } from \"./FilesRepo\";\nimport { SearchContext } from \"./SearchContext\";\nimport _ from \"lodash\";\nimport SkipNextIcon from \"@material-ui/icons/SkipNext\";\nimport SkipPreviousIcon from \"@material-ui/icons/SkipPrevious\";\nimport { Card } from \"react-bootstrap\";\nimport { FaGoogleDrive, FaDropbox } from \"react-icons/fa\";\nimport { GrOnedrive } from \"react-icons/gr\";\nfunction AddDrives({ match }) {\n  const [loggedIn, setLoggedIn] = useContext(LoginContext);\n  return (\n    <Card>\n      <div className=\"cardHeader\">\n        <Card.Header>Add Drives</Card.Header>\n      </div>\n\n      <div className=\"addDrive\">\n        <Card.Body>\n          <ul>\n            <li style={{ borderRight: \"1px solid rgb(68, 67, 67)\" }}>\n              {\" \"}\n              <a title=\"Google Drive\" href=\"/user/add/google\">\n                <FaGoogleDrive />\n              </a>\n            </li>\n            <li style={{ borderRight: \"1px solid rgb(68, 67, 67)\" }}>\n              {\" \"}\n              <a title=\"One Drive\" href=\"/user/add/ms\">\n                <GrOnedrive />\n              </a>\n            </li>\n            <li>\n              {\" \"}\n              <a title=\"Dropbox\" href=\"/user/add/db\">\n                <FaDropbox />\n              </a>\n            </li>\n          </ul>\n        </Card.Body>\n      </div>\n    </Card>\n  );\n}\n\nexport default AddDrives;\n","import React, { useState, useEffect, useContext } from \"react\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\nimport { LoginContext } from \"./LoginContext\";\n\nimport { FilesContext } from \"./FilesRepo\";\nimport Progress from \"./UploadProgressBar\";\nimport { Modal } from \"react-bootstrap\";\nfunction FileUpload(props) {\n  console.log(\"props.show is :\", props.show);\n  const [loggedIn, setLoggedIn] = useContext(LoginContext);\n  const { files, setFiles } = useContext(FilesContext);\n  const [upFiles, setUpFiles] = useState([]);\n  const [fileNames, setFileNames] = useState([\"Choose Files(s)\"]);\n  const [uploadPct, setUploadPct] = useState(0);\n  const [show, setShow] = useState(props.show);\n  const [messages, setMessage] = useState([\"Note:\"]);\n  const handleClose = () => {\n    setShow(false);\n    props.handleClose();\n    setMessage([\"Note: \"]);\n    setFileNames([\"Choose Files(s)\"]);\n    setUpFiles([]);\n  };\n  const handleChange = (e) => {\n    setMessage([\"Note: \"]);\n    setUpFiles(e.target.files);\n    setFileNames([...e.target.files].map((file) => file.name));\n  };\n  useEffect(() => {\n    fileNames.map((fname) => {\n      files.map((file) => {\n        if (file.fileName === fname) {\n          setMessage((prevMsg) => [\n            ...new Set([\n              ...prevMsg,\n              `A file with ${fname} already exists, do you want upload this again?`,\n            ]),\n          ]);\n        }\n      });\n    });\n  }, [fileNames]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    console.log(\"files: \", upFiles);\n    console.log(\"file names: \", fileNames);\n\n    const formData = new FormData();\n    for (var i = 0; i < upFiles.length; i++) {\n      let upFile = upFiles.item(i);\n      formData.append(\"file\", upFile);\n    }\n    // formData.append('uploadFiles', files);\n    // });\n    console.log(\"formData: \", formData);\n\n    try {\n      const res = await axios.post(\"/action/upload/multiple\", formData, {\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n        },\n        onUploadProgress: (progressEvent) => {\n          setUploadPct(\n            parseInt(\n              Math.round((progressEvent.loaded * 100) / progressEvent.total)\n            )\n          );\n          setTimeout(() => setUploadPct(0), 10000);\n        },\n      });\n\n      // const { fileName, filePath } = res.data;\n\n      // setUploadedFile({ fileName, filePath });\n\n      console.log(\"File Uploaded : \", res.data);\n      setFileNames([\"Choose Files(s)\"]);\n      setUpFiles([]);\n      setMessage([\"Note: \"]);\n    } catch (err) {\n      // if (err.response.status === 500) {\n      console.log(\"There was a problem with the server\");\n      // } else {\n      console.log(err.response.data.msg);\n      // }\n    }\n  };\n  useEffect(() => {\n    setShow(props.show);\n  }, [props.show]);\n\n  return (\n    <Modal show={show} onHide={handleClose} backdrop=\"static\" keyboard={false}>\n      <Modal.Header closeButton>\n        <Modal.Title>업로드할 파일을 선택해 주세요.</Modal.Title>\n      </Modal.Header>\n\n      <form onSubmit={handleSubmit}>\n        <Modal.Body>\n          <div className=\"custom-file mb-4\">\n            <input\n              type=\"file\"\n              className=\"custom-file-input\"\n              id=\"customFile\"\n              onChange={handleChange}\n              multiple\n            />\n            <label\n              style={{ overflowY: \"hidden\" }}\n              className=\"custom-file-label\"\n              htmlFor=\"customFile\"\n            >\n              {fileNames.map((fName, index) => (\n                <span key={index}>{fName} </span>\n              ))}\n            </label>\n          </div>\n        </Modal.Body>\n        <Modal.Footer>\n          {messages.length > 1 ? (\n            <div\n              style={{\n                backgroundColor: \"#440c05\",\n                color: \"#fff\",\n                padding: \"2%\",\n              }}\n            >\n              {messages.map((msg, index) => (\n                <p key={index}>{msg}</p>\n              ))}\n            </div>\n          ) : null}\n          <Progress percentage={uploadPct} />\n          <input\n            type=\"submit\"\n            value=\"Upload\"\n            className=\"btn btn-primary btn-block mt-4\"\n          />\n        </Modal.Footer>\n      </form>\n    </Modal>\n  );\n}\n\nexport default FileUpload;\n","import React, { useState, useEffect, useContext, Component } from \"react\";\nimport Header from \"./Header\";\nimport Footer from \"./Footer\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\nimport { LoginContext } from \"./LoginContext\";\nimport { DrivesContext, DriveDeleteContext } from \"./DrivesRepo\";\nimport { DarkContext } from \"./SearchContext\";\nimport { FilesContext } from \"./FilesRepo\";\nimport FileList from \"./FileList\";\nimport DriveList from \"./DriveList\";\nimport AddDrives from \"./AddDrives\";\nimport FileUpload from \"./FileUpload\";\nimport classNames from \"classnames\";\nimport _ from \"lodash\";\nimport sockIO from \"socket.io-client\";\n\nfunction Home({ match }) {\n  const backEndPort = \"http://localhost:3000\";\n  // let backEndPort;\n  // if (process.env.NODE_ENV === \"production\") {\n  //   backEndPort = \"https://desolate-bastion-47247.herokuapp.com/\";\n  // } else {\n  //   backEndPort = \"http://localhost:3000\";\n  // }\n\n  const customSwitchClass = classNames(\"custom-control\", \"custom-switch\");\n  const mimeSuffixName = [\n    \"octet-stream\",\n    \"vnd.google-apps.spreadsheet\",\n    \"vnd.google-apps.document\",\n    \"vnd.google-apps.presentation\",\n    \"pdf\",\n  ];\n  const mimeSuffixValue = [\n    \"Plain\",\n    \"Spreadsheet\",\n    \"WordDocument\",\n    \"PowerPoint\",\n    \"PDF\",\n  ];\n  const mimeSuffixMappings = new Object();\n\n  useEffect(() => {\n    mimeSuffixName.forEach((item, index) => {\n      mimeSuffixMappings[item] = mimeSuffixValue[index];\n    });\n  }, []);\n\n  useEffect(() => {\n    let socketIO;\n    console.log(\"environment :\", process.env.NODE_ENV);\n    // if (process.env.NODE_ENV === \"production\") {\n    //   socketIO = sockIO.connect();\n    // } else {\n    //   socketIO = sockIO.connect(backEndPort);\n    // }\n    socketIO = sockIO.connect(backEndPort);\n    console.log(\"socket is :\", socketIO);\n    socketIO.on(\"oneDriveFiles\", function (data) {\n      console.log(\n        \"Incoming onedriveFiles:\",\n        data.files.filter(\n          (file) =>\n            new Date(file.createdAt) >=\n            new Date(JSON.parse(sessionStorage.lastFetchDt))\n        )\n      );\n      // console.log(\"lastFetchedDt\",JSON.parse(sessionStorage.getItem(\"lastFetchDt\")));\n      setFiles((oldFiles) =>\n        _.unionBy(\n          data.files.filter(\n            (file) =>\n              new Date(file.createdAt) >=\n              new Date(JSON.parse(sessionStorage.lastFetchDt))\n          ),\n          oldFiles,\n          \"fileId\"\n        )\n      );\n    });\n    socketIO.on(\"dbxFiles\", function (data) {\n      console.log(\n        \"Incoming dbxFiles:\",\n        data.files.filter(\n          (file) =>\n            new Date(file.createdAt) >=\n            new Date(JSON.parse(sessionStorage.lastFetchDt))\n        )\n      );\n      // console.log(\"last fetch dt\",JSON.parse(sessionStorage.lastFetchDt));\n      setFiles((oldFiles) =>\n        _.unionBy(\n          data.files.filter(\n            (file) =>\n              new Date(file.createdAt) >=\n              new Date(JSON.parse(sessionStorage.lastFetchDt))\n          ),\n          oldFiles,\n          \"fileId\"\n        )\n      );\n    });\n    socketIO.on(\"googleFiles\", function (data) {\n      console.log(\n        \"Incoming googleFiles:\",\n        data.files.filter(\n          (file) =>\n            new Date(file.createdAt) >=\n            new Date(JSON.parse(sessionStorage.lastFetchDt))\n        )\n      );\n      setFiles((oldFiles) =>\n        _.unionBy(\n          data.files.filter(\n            (file) =>\n              new Date(file.createdAt) >=\n              new Date(JSON.parse(sessionStorage.lastFetchDt))\n          ),\n          oldFiles,\n          \"fileId\"\n        )\n      );\n    });\n  }, []);\n\n  let history = useHistory();\n  // if (window.location.hash === \"#_=_\") {\n  //   history.replaceState\n  //     ? history.replaceState(null, null, window.location.href.split(\"#\")[0])\n  //     : (window.location.hash = \"\");\n  // }\n\n  const [driveAdded, setDriveAdded] = useState({\n    status: false,\n    type: \"\",\n    email: \"\",\n    message: \"\",\n  });\n  const { driveDeleted, setDriveDeleted } = useContext(DriveDeleteContext);\n  const { darkMode, setDarkMode } = useContext(DarkContext);\n\n  useEffect(() => {\n    const queryString = window.location.search;\n    console.log(\"queryString:\", queryString);\n    if (typeof queryString !== undefined && queryString !== \"\") {\n      const urlParams = new URLSearchParams(queryString);\n      if (urlParams.get(\"success\") === \"true\") {\n        console.log(\"status is: \", urlParams.get(\"success\"));\n        console.log(\"attempt is: \", urlParams.get(\"attempt\"));\n        console.log(\"message : \", urlParams.get(\"message\"));\n\n        if (urlParams.get(\"attempt\").includes(\"add\")) {\n          console.log(\"new Drive is: \", urlParams.get(\"newDrive\"));\n          console.log(\"new Drive type is: \", urlParams.get(\"newDriveType\"));\n          setDriveAdded({\n            status: true,\n            type: urlParams.get(\"newDriveType\"),\n            email: urlParams.get(\"newDrive\"),\n            message: urlParams.get(\"message\"),\n          });\n        }\n      } else {\n        console.log(\"status is: \", urlParams.get(\"success\"));\n        console.log(\"status is: \", urlParams.get(\"attempt\"));\n        console.log(\"message : \", urlParams.get(\"message\"));\n        if (urlParams.get(\"attempt\").includes(\"add\")) {\n          setDriveAdded({\n            status: false,\n            type: \"NA\",\n            email: \"NA\",\n            message: urlParams.get(\"message\"),\n          });\n        }\n      }\n      setTimeout(\n        () =>\n          setDriveAdded({ status: false, type: \"\", email: \"\", message: \"\" }),\n        10000\n      );\n      window.history.replaceState({}, null, window.location.href.split(\"?\")[0]);\n    }\n    console.log(\"dark mode: \", darkMode);\n    if (darkMode) {\n      var elements = document.querySelectorAll(\n        \"body,.card,.list-group-item,.tooltiptext\"\n      );\n      elements.forEach((element) => {\n        element.style.backgroundColor = \"#000\";\n        element.style.color = \"#fff\";\n      });\n    } else {\n      var elements = document.querySelectorAll(\n        \"body,.card,.list-group-item,.tooltiptext\"\n      );\n      elements.forEach((element) => {\n        element.style.backgroundColor = \"#fff\";\n        element.style.color = \"#000\";\n      });\n    }\n\n    console.log(\"dark mode: \", darkMode);\n    if (darkMode) {\n      var elements = document.querySelectorAll(\n        \"body,.card,.list-group-item,.tooltiptext\"\n      );\n      elements.forEach((element) => {\n        element.style.backgroundColor = \"#000\";\n        element.style.color = \"#fff\";\n      });\n    } else {\n      var elements = document.querySelectorAll(\n        \"body,.card,.list-group-item,.tooltiptext\"\n      );\n      elements.forEach((element) => {\n        element.style.backgroundColor = \"#fff\";\n        element.style.color = \"#000\";\n      });\n    }\n  }, []);\n\n  const { drives, setDrives } = useContext(DrivesContext);\n\n  const { files, setFiles } = useContext(FilesContext);\n\n  const [loggedIn, setLoggedIn] = useContext(LoginContext);\n  const [showUpload, setShow] = useState(false);\n  console.log(\" user home page\");\n  // const { params: { userName } = {} } = match;\n  useEffect(() => {\n    axios\n      .get(\"/user/data/read\", { withCredentials: true })\n      .then(async (response) => {\n        sessionStorage.setItem(\"lastFetchDt\", JSON.stringify(new Date()));\n        if (response.data.success) {\n          console.log(\"response: \", response.data);\n          if (response.data.drives.length > 0) {\n            setDrives(response.data.drives);\n            // console.log(\"files received:\",response.data.drives.map(({ files }) => files).flat());\n            setFiles(\n              response.data.drives\n                .map(({ files }) => files)\n                .flat()\n                .sort(function (a, b) {\n                  return new Date(b.createdAt) - new Date(a.createdAt);\n                })\n                .map((file) => {\n                  if (file.fileFolderType.includes(\"undefined\")) {\n                    let mimeSuffArr = file.mimeType.split(\"/\");\n                    let mimeSuff = mimeSuffArr[\n                      mimeSuffArr.length - 1\n                    ].toLowerCase();\n\n                    if (typeof mimeSuffixMappings[mimeSuff] !== \"undefined\") {\n                      file.fileFolderType = mimeSuffixMappings[mimeSuff];\n                    } else {\n                      file.fileFolderType = \"Others\";\n                    }\n                  }\n                  return file;\n                })\n            );\n          } else {\n            setDrives([]);\n          }\n        } else {\n          history.push(\"/\");\n        }\n      })\n      .catch((error) => {\n        console.log(error);\n      });\n  }, []);\n\n  const triggerUpload = () => {\n    setShow(true);\n  };\n  const handleUploadModalClose = () => {\n    setShow(false);\n  };\n  return (\n    <div>\n      <Header />\n\n      {loggedIn.status && (\n        <div className=\"container-fluid\">\n          <div className=\"row\" style={{ paddingTop: \"2%\" }}>\n            <div className=\"col-sm-2\" style={{ padding: \"0\" }}>\n              <DriveList />\n            </div>\n            <div className=\"col-sm-8\">\n              <FileList />\n              <br />\n              {driveAdded.status ? (\n                <p\n                  style={{\n                    backgroundColor: \"green\",\n                    color: \"#fff\",\n                    fontSize: \"medium\",\n                    margin: \"2%\",\n                    padding: \"2%\",\n                  }}\n                >\n                  {\" \"}\n                  {driveAdded.type} drive ({driveAdded.email}) added\n                  successfully\n                </p>\n              ) : driveAdded.message.length > 0 ? (\n                <p\n                  style={{\n                    backgroundColor: \"red\",\n                    color: \"#fff\",\n                    fontSize: \"medium\",\n                    margin: \"2%\",\n                    padding: \"2%\",\n                  }}\n                >\n                  {\" \"}\n                  {driveAdded.message}\n                </p>\n              ) : null}\n              <br />\n              {driveDeleted.status ? (\n                <p\n                  style={{\n                    backgroundColor: \"green\",\n                    color: \"#fff\",\n                    fontSize: \"medium\",\n                    margin: \"2%\",\n                    padding: \"2%\",\n                  }}\n                >\n                  {\" \"}\n                  Drive removed successfully\n                </p>\n              ) : driveDeleted.message.length > 0 ? (\n                <p\n                  style={{\n                    backgroundColor: \"red\",\n                    color: \"#fff\",\n                    fontSize: \"medium\",\n                    margin: \"2%\",\n                    padding: \"2%\",\n                  }}\n                >\n                  {\" \"}\n                  {driveDeleted.message}\n                </p>\n              ) : null}\n            </div>\n            <div className=\"col-sm-2\">\n              <AddDrives />\n              <div className=\"cardHeader\" style={{ marginTop: \"2%\" }}>\n                <button className=\"uploadButton\" onClick={triggerUpload}>\n                  {\" \"}\n                  Upload File\n                </button>\n              </div>\n              <FileUpload\n                show={showUpload}\n                handleClose={handleUploadModalClose}\n              />\n            </div>\n          </div>\n        </div>\n      )}\n      <Footer />\n    </div>\n  );\n}\n\nexport default Home;\n","import React, { useState, useContext } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { LoginContext } from \"./LoginContext\";\nfunction Register() {\n  const { register, watch, errors, handleSubmit } = useForm();\n  let history = useHistory();\n  const [nameTaken, setNameTaken] = useState(false);\n  const [loggedIn, setLoggedIn] = useContext(LoginContext);\n  console.log(\"register\");\n\n  const onSubmit = (data, e) => {\n    axios\n      .post(\"/user/auth/register\", data)\n      .then((response) => {\n        if (response.data.status) {\n          console.log(\"successful signup\");\n          setLoggedIn({\n            username: response.data.username,\n            status: response.data.status,\n          });\n          history.push(`/user/home/${response.data.username}`);\n        } else {\n          setNameTaken(true);\n        }\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n\n    console.log(data);\n    e.preventDefault();\n    e.target.reset();\n  };\n\n  return (\n    <div>\n      <form onSubmit={handleSubmit(onSubmit)}>\n        <div className=\"form-group\">\n          <input\n            type=\"text\"\n            className=\"form-control\"\n            placeholder=\"User Name\"\n            name=\"username\"\n            ref={register}\n            required\n          />\n        </div>\n\n        <div className=\"form-group\">\n          <input\n            type=\"email\"\n            className=\"form-control\"\n            placeholder=\"Email\"\n            name=\"email\"\n            ref={register}\n          />\n        </div>\n        <div className=\"form-group\">\n          <input\n            type=\"password\"\n            placeholder=\"Password\"\n            className=\"form-control\"\n            name=\"password\"\n            ref={register({\n              pattern: /^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/,\n            })}\n            required\n          />\n          {errors.password && (\n            <p>\n              적어도 8자 이상, 적어도 하나씩의 문자,숫자,특수문자가 필요합니다.\n            </p>\n          )}\n        </div>\n        <div className=\"form-group\">\n          <input\n            type=\"password\"\n            className=\"form-control\"\n            name=\"cnfPassword\"\n            ref={register({ validate: (value) => value === watch(\"password\") })}\n            placeholder=\"Confirm Password\"\n            required\n          />\n          {errors.cnfPassword && <p>비밀번호가 일치하지 않습니다.</p>}\n        </div>\n\n        <button type=\"submit\" className=\"btn signUp\">\n          회원가입\n        </button>\n        {nameTaken && <p> 이메일이 이미 존재합니다.</p>}\n      </form>\n    </div>\n  );\n}\n\nexport default Register;\n","import React, { useState, useContext } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { LoginContext } from \"./LoginContext\";\nfunction LoginTab() {\n  const { register, watch, errors, handleSubmit } = useForm();\n  let history = useHistory();\n  const [loginFail, setLoginFail] = useState(false);\n  const [loggedIn, setLoggedIn] = useContext(LoginContext);\n  console.log(\"login tab\");\n\n  const onSubmit = (data, e) => {\n    axios\n      .post(\"/user/auth/login/\", data)\n      .then((response) => {\n        if (response.data.authenticate) {\n          console.log(\"response: \", response.data);\n          setLoggedIn({\n            username: response.data.username,\n            status: response.data.authenticate,\n          });\n\n          history.push(`/user/home/${response.data.username}`);\n        } else {\n          setLoginFail(true);\n        }\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n\n    e.preventDefault();\n    e.target.reset();\n  };\n\n  return (\n    <div>\n      <form onSubmit={handleSubmit(onSubmit)}>\n        <div className=\"form-group\">\n          <input\n            type=\"email\"\n            className=\"form-control\"\n            placeholder=\"Email\"\n            name=\"email\"\n            ref={register}\n          />\n        </div>\n        <div className=\"form-group\">\n          <input\n            type=\"password\"\n            placeholder=\"Password\"\n            className=\"form-control\"\n            name=\"password\"\n            ref={register}\n            required\n          />\n        </div>\n        <button type=\"submit\" className=\"btn signUp\">\n          Login\n        </button>\n        {loginFail && <p>로그인에 실패했습니다. 다시 시도해주세요.</p>}\n      </form>\n    </div>\n  );\n}\n\nexport default LoginTab;\n","import React, { useState } from \"react\";\nimport Header from \"./Header\";\nimport classNames from \"classnames\";\nimport Register from \"./RegisterTab\";\nimport LoginTab from \"./LoginTab\";\nimport { FcGoogle } from \"react-icons/fc\";\nimport logo from \"../oneStorage.png\";\n\nfunction SignUp() {\n  console.log(\"environment :\", process.env.NODE_ENV);\n  const containerClasses = classNames(\"container\", \"mt-5\");\n  const navClasses = classNames(\"nav\", \"nav-tabs\");\n  const navItemClasses = classNames(\"nav-link\", \"active\");\n  console.log(\"sign up\");\n  // const tabStyle = {width: \"20rem\" };\n\n  const [register, setRegister] = useState(false);\n  function registerClick() {\n    setRegister(true);\n  }\n  function loginClick() {\n    setRegister(false);\n  }\n\n  return (\n    <div>\n      <Header />\n      <div className={containerClasses}>\n        <ul className={navClasses}>\n          <li className=\"nav-item\">\n            <button onClick={loginClick} className={navItemClasses}>\n              로그인\n            </button>\n          </li>\n          <li style={{ paddingLeft: \"0.5rem\" }} className=\"nav-item\">\n            <button onClick={registerClick} className=\"nav-link\">\n              회원가입\n            </button>\n          </li>\n        </ul>\n        <div className=\"row\">\n          <div className=\"col-sm-6\">\n            {register ? (\n              <div style={{ paddingTop: \"2%\" }}>\n                <Register />\n              </div>\n            ) : (\n              <div>\n                <div className=\"card-body\">\n                  <LoginTab />\n                </div>\n              </div>\n            )}\n          </div>\n          <div className=\"col-sm-6\">\n            <div\n            // style={{\n            //   color: \"white\"\n            // }}\n            >\n              <h1 style={{ textShadow: \"0.5px 0.5px #440c05\" }}>Oberspace</h1>\n              <ul>\n                <h3>여러 클라우드 스토리지를 위한 하나의 인터페이스!</h3>\n                <ul>\n                  <li>\n                    당신의 google drive, one drive, dropbox 계정을 추가해보세요.\n                  </li>\n                  <li>\n                    Oberspace 하나로 조직화된 방식을 통해 모든 파일에 접근할 수\n                    있습니다.\n                  </li>\n                  <li>\n                    단일 인터페이스로 여러 클라우드 스토리지 관리 - 더 많은\n                    스토리지를 실현하세요.\n                  </li>\n                </ul>\n                <img\n                  src={logo}\n                  style={{ position: \"absolute\", right: \"1%\" }}\n                  width=\"600\"\n                  height=\"450\"\n                  alt=\"OberSpace logo\"\n                />\n              </ul>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default SignUp;\n","import React,{useContext} from \"react\";\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\nimport UserHome from \"./components/UserHome\";\nimport SignUp  from \"./components/SignUp\";\nimport {DrivesProvider,DriveDeleteProvider} from \"./components/DrivesRepo\";\nimport {FilesProvider} from \"./components/FilesRepo\";\nimport {SearchProvider,FilterProvider,DarkProvider} from \"./components/SearchContext\";\nimport {LoginContext} from \"./components/LoginContext\";\n\nfunction App() {\n  const [loggedIn, setLoggedIn] = useContext(LoginContext);\n  return (\n    <div>\n    <DrivesProvider>\n    <DriveDeleteProvider>\n    <FilesProvider>\n    <SearchProvider>\n    <DarkProvider>\n    <FilterProvider>\n    <Router>\n     {loggedIn.status? <Route path=\"/\" exact component={UserHome} />: <Route path=\"/\" exact component={SignUp} />}     \n     {loggedIn.status? <Route path=\"/user/home/:userName\" exact component={UserHome} />:<Route path=\"/user/home/:userName\" exact component={SignUp} />}     \n    </Router>\n    </FilterProvider>\n    </DarkProvider>\n    </SearchProvider>\n    </FilesProvider>\n    </DriveDeleteProvider>\n    </DrivesProvider>\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport '../node_modules/bootstrap/dist/css/bootstrap.min.css';\nimport './components/OneStorage.css';\nimport {LogInProvider} from \"./components/LoginContext\";\n\n\n\nReactDOM.render(<LogInProvider><App/></LogInProvider>, document.getElementById(\"root\"));","module.exports = __webpack_public_path__ + \"static/media/oneStorage.1ca34507.png\";"],"sourceRoot":""}