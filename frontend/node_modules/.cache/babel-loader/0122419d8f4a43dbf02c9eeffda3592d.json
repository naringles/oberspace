{"ast":null,"code":"var _jsxFileName = \"/Users/naringles/Desktop/OneStorage/frontend/src/components/LoginTab.jsx\";\nimport React, { useState, useContext } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { LoginContext } from \"./LoginContext\";\n\nfunction LoginTab() {\n  const {\n    register,\n    watch,\n    errors,\n    handleSubmit\n  } = useForm();\n  let history = useHistory();\n  const [loginFail, setLoginFail] = useState(false);\n  const [loggedIn, setLoggedIn] = useContext(LoginContext);\n  console.log(\"login tab\");\n\n  const onSubmit = (data, e) => {\n    axios.post(\"/user/auth/login/\", data).then(response => {\n      if (response.data.authenticate) {\n        console.log(\"response: \", response.data);\n        setLoggedIn({\n          username: response.data.username,\n          status: response.data.authenticate\n        });\n        history.push(`/user/home/${response.data.username}`);\n      } else {\n        setLoginFail(true);\n      }\n    }).catch(err => {\n      console.error(err);\n    });\n    e.preventDefault();\n    e.target.reset();\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSubmit(onSubmit),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    className: \"form-control\",\n    placeholder: \"Email\",\n    name: \"email\",\n    ref: register,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    placeholder: \"Password\",\n    className: \"form-control\",\n    name: \"password\",\n    ref: register,\n    required: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    className: \"btn signUp\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 9\n    }\n  }, \"Login\"), loginFail && /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 23\n    }\n  }, \"\\uB85C\\uADF8\\uC778\\uC5D0 \\uC2E4\\uD328\\uD588\\uC2B5\\uB2C8\\uB2E4. \\uB2E4\\uC2DC \\uC2DC\\uB3C4\\uD574\\uC8FC\\uC138\\uC694.\")));\n}\n\nexport default LoginTab;","map":{"version":3,"sources":["/Users/naringles/Desktop/OneStorage/frontend/src/components/LoginTab.jsx"],"names":["React","useState","useContext","useForm","useHistory","axios","LoginContext","LoginTab","register","watch","errors","handleSubmit","history","loginFail","setLoginFail","loggedIn","setLoggedIn","console","log","onSubmit","data","e","post","then","response","authenticate","username","status","push","catch","err","error","preventDefault","target","reset"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,UAA1B,QAA4C,OAA5C;AACA,SAASC,OAAT,QAAwB,iBAAxB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,YAAT,QAA6B,gBAA7B;;AACA,SAASC,QAAT,GAAoB;AAClB,QAAM;AAAEC,IAAAA,QAAF;AAAYC,IAAAA,KAAZ;AAAmBC,IAAAA,MAAnB;AAA2BC,IAAAA;AAA3B,MAA4CR,OAAO,EAAzD;AACA,MAAIS,OAAO,GAAGR,UAAU,EAAxB;AACA,QAAM,CAACS,SAAD,EAAYC,YAAZ,IAA4Bb,QAAQ,CAAC,KAAD,CAA1C;AACA,QAAM,CAACc,QAAD,EAAWC,WAAX,IAA0Bd,UAAU,CAACI,YAAD,CAA1C;AACAW,EAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;;AAEA,QAAMC,QAAQ,GAAG,CAACC,IAAD,EAAOC,CAAP,KAAa;AAC5BhB,IAAAA,KAAK,CACFiB,IADH,CACQ,mBADR,EAC6BF,IAD7B,EAEGG,IAFH,CAESC,QAAD,IAAc;AAClB,UAAIA,QAAQ,CAACJ,IAAT,CAAcK,YAAlB,EAAgC;AAC9BR,QAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAA0BM,QAAQ,CAACJ,IAAnC;AACAJ,QAAAA,WAAW,CAAC;AACVU,UAAAA,QAAQ,EAAEF,QAAQ,CAACJ,IAAT,CAAcM,QADd;AAEVC,UAAAA,MAAM,EAAEH,QAAQ,CAACJ,IAAT,CAAcK;AAFZ,SAAD,CAAX;AAKAb,QAAAA,OAAO,CAACgB,IAAR,CAAc,cAAaJ,QAAQ,CAACJ,IAAT,CAAcM,QAAS,EAAlD;AACD,OARD,MAQO;AACLZ,QAAAA,YAAY,CAAC,IAAD,CAAZ;AACD;AACF,KAdH,EAeGe,KAfH,CAeUC,GAAD,IAAS;AACdb,MAAAA,OAAO,CAACc,KAAR,CAAcD,GAAd;AACD,KAjBH;AAmBAT,IAAAA,CAAC,CAACW,cAAF;AACAX,IAAAA,CAAC,CAACY,MAAF,CAASC,KAAT;AACD,GAtBD;;AAwBA,sBACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAM,IAAA,QAAQ,EAAEvB,YAAY,CAACQ,QAAD,CAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,IAAI,EAAC,OADP;AAEE,IAAA,SAAS,EAAC,cAFZ;AAGE,IAAA,WAAW,EAAC,OAHd;AAIE,IAAA,IAAI,EAAC,OAJP;AAKE,IAAA,GAAG,EAAEX,QALP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CADF,eAUE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE;AACE,IAAA,IAAI,EAAC,UADP;AAEE,IAAA,WAAW,EAAC,UAFd;AAGE,IAAA,SAAS,EAAC,cAHZ;AAIE,IAAA,IAAI,EAAC,UAJP;AAKE,IAAA,GAAG,EAAEA,QALP;AAME,IAAA,QAAQ,MANV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADF,CAVF,eAoBE;AAAQ,IAAA,IAAI,EAAC,QAAb;AAAsB,IAAA,SAAS,EAAC,YAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aApBF,EAuBGK,SAAS,iBAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yHAvBhB,CADF,CADF;AA6BD;;AAED,eAAeN,QAAf","sourcesContent":["import React, { useState, useContext } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { useHistory } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { LoginContext } from \"./LoginContext\";\nfunction LoginTab() {\n  const { register, watch, errors, handleSubmit } = useForm();\n  let history = useHistory();\n  const [loginFail, setLoginFail] = useState(false);\n  const [loggedIn, setLoggedIn] = useContext(LoginContext);\n  console.log(\"login tab\");\n\n  const onSubmit = (data, e) => {\n    axios\n      .post(\"/user/auth/login/\", data)\n      .then((response) => {\n        if (response.data.authenticate) {\n          console.log(\"response: \", response.data);\n          setLoggedIn({\n            username: response.data.username,\n            status: response.data.authenticate,\n          });\n\n          history.push(`/user/home/${response.data.username}`);\n        } else {\n          setLoginFail(true);\n        }\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n\n    e.preventDefault();\n    e.target.reset();\n  };\n\n  return (\n    <div>\n      <form onSubmit={handleSubmit(onSubmit)}>\n        <div className=\"form-group\">\n          <input\n            type=\"email\"\n            className=\"form-control\"\n            placeholder=\"Email\"\n            name=\"email\"\n            ref={register}\n          />\n        </div>\n        <div className=\"form-group\">\n          <input\n            type=\"password\"\n            placeholder=\"Password\"\n            className=\"form-control\"\n            name=\"password\"\n            ref={register}\n            required\n          />\n        </div>\n        <button type=\"submit\" className=\"btn signUp\">\n          Login\n        </button>\n        {loginFail && <p>로그인에 실패했습니다. 다시 시도해주세요.</p>}\n      </form>\n    </div>\n  );\n}\n\nexport default LoginTab;\n"]},"metadata":{},"sourceType":"module"}