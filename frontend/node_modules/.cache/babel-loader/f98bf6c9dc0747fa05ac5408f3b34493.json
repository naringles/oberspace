{"ast":null,"code":"import _slicedToArray from\"/Users/naringles/Desktop/OneStorage/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useContext}from\"react\";import axios from\"axios\";import{useHistory}from\"react-router-dom\";import{LoginContext}from\"./LoginContext\";import{DrivesContext}from\"./DrivesRepo\";import{FilesContext}from\"./FilesRepo\";import{SearchContext,FilterContext}from\"./SearchContext\";import _ from\"lodash\";import SkipNextIcon from\"@material-ui/icons/SkipNext\";import SkipPreviousIcon from\"@material-ui/icons/SkipPrevious\";import ClearIcon from\"@material-ui/icons/Clear\";import{Card}from\"react-bootstrap\";import classNames from\"classnames\";import DeleteIcon from\"@material-ui/icons/Delete\";function FileList(_ref){var match=_ref.match;var _useContext=useContext(SearchContext),searchVal=_useContext.searchVal,setSearchVal=_useContext.setSearchVal;var _useContext2=useContext(FilterContext),filterVal=_useContext2.filterVal,setFilterVal=_useContext2.setFilterVal;var history=useHistory();if(window.location.hash===\"#_=_\"){history.replaceState?history.replaceState(null,null,window.location.href.split(\"#\")[0]):window.location.hash=\"\";}var _useContext3=useContext(DrivesContext),drives=_useContext3.drives,setDrives=_useContext3.setDrives;var _useContext4=useContext(FilesContext),files=_useContext4.files,setFiles=_useContext4.setFiles;var _useState=useState(files),_useState2=_slicedToArray(_useState,2),fileList=_useState2[0],setFileList=_useState2[1];var _useContext5=useContext(LoginContext),_useContext6=_slicedToArray(_useContext5,2),loggedIn=_useContext6[0],setLoggedIn=_useContext6[1];var _useState3=useState({start:0,end:10}),_useState4=_slicedToArray(_useState3,2),markers=_useState4[0],setMarkers=_useState4[1];var mimeSuffixName=[\"octet-stream\",\"vnd.google-apps.spreadsheet\",\"vnd.google-apps.document\",\"vnd.google-apps.presentation\",\"pdf\"];var mimeSuffixValue=[\"Plain\",\"Spreadsheet\",\"WordDocument\",\"PowerPoint\",\"PDF\"];var toolTipClasses=classNames(\"\");var _useState5=useState(fileList.slice(markers.start,markers.end)),_useState6=_slicedToArray(_useState5,2),visibleArray=_useState6[0],setVisibleArray=_useState6[1];useEffect(function(){console.log(\"visible array refresh due to marker\");setVisibleArray(fileList.slice(markers.start,markers.end));},[markers]);useEffect(function(){console.log(\"marker refresh on new files arrival\");setMarkers({start:0,end:10});},[fileList]);useEffect(function(){if(searchVal!==null){console.log(\"search val : \",searchVal);setVisibleArray(fileList.filter(function(file){return file.fileName===searchVal;}));}else{console.log(\"search val is null\");setVisibleArray(fileList.slice(markers.start,markers.end));}},[searchVal]);useEffect(function(){if(filterVal!==\"\"){setFileList(files.filter(function(file){return file.fileFolderType===filterVal;}));}else{setFileList(files);}},[filterVal,files]);var clearFilter=function clearFilter(){setFilterVal(\"\");};var goPrev=function goPrev(){if(markers.start>=10){setMarkers({start:markers.start-10,end:markers.end-10});}};var goNext=function goNext(){if(markers.end<=fileList.length-10){setMarkers({start:markers.start+10,end:markers.end+10});}};var _useState7=useState(-1),_useState8=_slicedToArray(_useState7,2),delFileConf=_useState8[0],setDelFileConf=_useState8[1];var handleDelete=function handleDelete(fId,fName,folderType,event){axios.post(\"/action/file/delete\",{id:fId,folderType:folderType,name:fName}).then(function(resp){console.log(\"Resp data: \",resp.data);if(resp.data.success){setFiles(files.filter(function(file){return file.fileId!==fId;}));}}).then(function(){setDelFileConf(-1);}).catch(function(err){console.error(err);});};return/*#__PURE__*/React.createElement(Card,null,/*#__PURE__*/React.createElement(\"div\",{className:\"cardHeader\"},/*#__PURE__*/React.createElement(Card.Header,null,\"Files\",filterVal!==\"\"?/*#__PURE__*/React.createElement(\"div\",{style:{position:\"absolute\",left:\"15%\",top:\"1.5%\"}},/*#__PURE__*/React.createElement(\"p\",null,\"File Type :\",filterVal,\" \",/*#__PURE__*/React.createElement(\"button\",{className:\"fileFilter\",title:\"clear\",onClick:clearFilter},/*#__PURE__*/React.createElement(ClearIcon,null)))):null,/*#__PURE__*/React.createElement(\"div\",{style:{position:\"absolute\",right:\"1%\",top:\"1%\"}},/*#__PURE__*/React.createElement(\"button\",{className:\"prevIconB\",onClick:goPrev},/*#__PURE__*/React.createElement(SkipPreviousIcon,null)),\" \",/*#__PURE__*/React.createElement(\"button\",{className:\"nextIconB\",onClick:goNext},/*#__PURE__*/React.createElement(SkipNextIcon,null))))),/*#__PURE__*/React.createElement(Card.Body,{className:\"fileList\"},/*#__PURE__*/React.createElement(\"div\",{className:\"list-group\"},/*#__PURE__*/React.createElement(\"ul\",null,visibleArray.map(function(file,index){return/*#__PURE__*/React.createElement(\"div\",{key:file.fileId,className:\"fileRow\"},/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-10\"},/*#__PURE__*/React.createElement(\"a\",{href:file.webViewLink},file.fileName,file.size!==undefined?/*#__PURE__*/React.createElement(\"span\",{className:\"tooltiptext\"},(file.size/(1024*1024)).toFixed(3),\" MB\",\" \"):null)),/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-2\"},delFileConf===index?/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-danger\",onClick:function onClick(e){return handleDelete(file.fileId,file.fileName,file.fileFolderType,e);}},\" \",\"\\uD655\\uC778\"),\" \",/*#__PURE__*/React.createElement(\"br\",null),\" \",/*#__PURE__*/React.createElement(\"br\",null),\" \",/*#__PURE__*/React.createElement(\"button\",{className:\"btn btn-success\",onClick:function onClick(){return setDelFileConf(-1);}},\" \",\"\\uCDE8\\uC18C\")):/*#__PURE__*/React.createElement(\"button\",{className:\"fileDelete\",onClick:function onClick(){return setDelFileConf(index);}},\" \",/*#__PURE__*/React.createElement(DeleteIcon,null)))));})),/*#__PURE__*/React.createElement(\"div\",{className:\"row\",style:{position:\"absolute\",right:\"1%\",bottom:\"-5%\"}}))));}export default FileList;","map":{"version":3,"sources":["/Users/naringles/Desktop/OneStorage/frontend/src/components/FileList.jsx"],"names":["React","useState","useEffect","useContext","axios","useHistory","LoginContext","DrivesContext","FilesContext","SearchContext","FilterContext","_","SkipNextIcon","SkipPreviousIcon","ClearIcon","Card","classNames","DeleteIcon","FileList","match","searchVal","setSearchVal","filterVal","setFilterVal","history","window","location","hash","replaceState","href","split","drives","setDrives","files","setFiles","fileList","setFileList","loggedIn","setLoggedIn","start","end","markers","setMarkers","mimeSuffixName","mimeSuffixValue","toolTipClasses","slice","visibleArray","setVisibleArray","console","log","filter","file","fileName","fileFolderType","clearFilter","goPrev","goNext","length","delFileConf","setDelFileConf","handleDelete","fId","fName","folderType","event","post","id","name","then","resp","data","success","fileId","catch","err","error","position","left","top","right","map","index","webViewLink","size","undefined","toFixed","e","bottom"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useContext } from \"react\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\nimport { LoginContext } from \"./LoginContext\";\nimport { DrivesContext } from \"./DrivesRepo\";\nimport { FilesContext } from \"./FilesRepo\";\nimport { SearchContext, FilterContext } from \"./SearchContext\";\nimport _ from \"lodash\";\nimport SkipNextIcon from \"@material-ui/icons/SkipNext\";\nimport SkipPreviousIcon from \"@material-ui/icons/SkipPrevious\";\nimport ClearIcon from \"@material-ui/icons/Clear\";\nimport { Card } from \"react-bootstrap\";\nimport classNames from \"classnames\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\n\nfunction FileList({ match }) {\n  const { searchVal, setSearchVal } = useContext(SearchContext);\n  const { filterVal, setFilterVal } = useContext(FilterContext);\n  let history = useHistory();\n  if (window.location.hash === \"#_=_\") {\n    history.replaceState\n      ? history.replaceState(null, null, window.location.href.split(\"#\")[0])\n      : (window.location.hash = \"\");\n  }\n  const { drives, setDrives } = useContext(DrivesContext);\n  const { files, setFiles } = useContext(FilesContext);\n  const [fileList, setFileList] = useState(files);\n  const [loggedIn, setLoggedIn] = useContext(LoginContext);\n  const [markers, setMarkers] = useState({ start: 0, end: 10 });\n  const mimeSuffixName = [\n    \"octet-stream\",\n    \"vnd.google-apps.spreadsheet\",\n    \"vnd.google-apps.document\",\n    \"vnd.google-apps.presentation\",\n    \"pdf\",\n  ];\n  const mimeSuffixValue = [\n    \"Plain\",\n    \"Spreadsheet\",\n    \"WordDocument\",\n    \"PowerPoint\",\n    \"PDF\",\n  ];\n  const toolTipClasses = classNames(\"\");\n\n  const [visibleArray, setVisibleArray] = useState(\n    fileList.slice(markers.start, markers.end)\n  );\n  useEffect(() => {\n    console.log(\"visible array refresh due to marker\");\n    setVisibleArray(fileList.slice(markers.start, markers.end));\n  }, [markers]);\n\n  useEffect(() => {\n    console.log(\"marker refresh on new files arrival\");\n    setMarkers({ start: 0, end: 10 });\n  }, [fileList]);\n\n  useEffect(() => {\n    if (searchVal !== null) {\n      console.log(\"search val : \", searchVal);\n      setVisibleArray(fileList.filter((file) => file.fileName === searchVal));\n    } else {\n      console.log(\"search val is null\");\n      setVisibleArray(fileList.slice(markers.start, markers.end));\n    }\n  }, [searchVal]);\n\n  useEffect(() => {\n    if (filterVal !== \"\") {\n      setFileList(files.filter((file) => file.fileFolderType === filterVal));\n    } else {\n      setFileList(files);\n    }\n  }, [filterVal, files]);\n\n  const clearFilter = () => {\n    setFilterVal(\"\");\n  };\n\n  const goPrev = () => {\n    if (markers.start >= 10) {\n      setMarkers({ start: markers.start - 10, end: markers.end - 10 });\n    }\n  };\n  const goNext = () => {\n    if (markers.end <= fileList.length - 10) {\n      setMarkers({ start: markers.start + 10, end: markers.end + 10 });\n    }\n  };\n  const [delFileConf, setDelFileConf] = useState(-1);\n  const handleDelete = (fId, fName, folderType, event) => {\n    axios\n      .post(\"/action/file/delete\", {\n        id: fId,\n        folderType: folderType,\n        name: fName,\n      })\n      .then((resp) => {\n        console.log(\"Resp data: \", resp.data);\n        if (resp.data.success) {\n          setFiles(files.filter((file) => file.fileId !== fId));\n        }\n      })\n      .then(() => {\n        setDelFileConf(-1);\n      })\n\n      .catch((err) => {\n        console.error(err);\n      });\n  };\n  return (\n    <Card>\n      <div className=\"cardHeader\">\n        <Card.Header>\n          Files\n          {filterVal !== \"\" ? (\n            <div style={{ position: \"absolute\", left: \"15%\", top: \"1.5%\" }}>\n              <p>\n                File Type :{filterVal}{\" \"}\n                <button\n                  className=\"fileFilter\"\n                  title=\"clear\"\n                  onClick={clearFilter}\n                >\n                  <ClearIcon />\n                </button>\n              </p>\n            </div>\n          ) : null}\n          <div style={{ position: \"absolute\", right: \"1%\", top: \"1%\" }}>\n            <button className=\"prevIconB\" onClick={goPrev}>\n              <SkipPreviousIcon />\n            </button>{\" \"}\n            <button className=\"nextIconB\" onClick={goNext}>\n              <SkipNextIcon />\n            </button>\n          </div>\n        </Card.Header>\n      </div>\n      <Card.Body className=\"fileList\">\n        <div className=\"list-group\">\n          <ul>\n            {visibleArray.map((file, index) => (\n              <div key={file.fileId} className=\"fileRow\">\n                <div className=\"row\">\n                  <div className=\"col-md-10\">\n                    <a href={file.webViewLink}>\n                      {file.fileName}\n                      {file.size !== undefined ? (\n                        <span className=\"tooltiptext\">\n                          {(file.size / (1024 * 1024)).toFixed(3)} MB{\" \"}\n                        </span>\n                      ) : null}\n                    </a>\n                  </div>\n                  <div className=\"col-md-2\">\n                    {delFileConf === index ? (\n                      <div>\n                        <button\n                          className=\"btn btn-danger\"\n                          onClick={(e) =>\n                            handleDelete(\n                              file.fileId,\n                              file.fileName,\n                              file.fileFolderType,\n                              e\n                            )\n                          }\n                        >\n                          {\" \"}\n                          확인\n                        </button>{\" \"}\n                        <br /> <br />{\" \"}\n                        <button\n                          className=\"btn btn-success\"\n                          onClick={() => setDelFileConf(-1)}\n                        >\n                          {\" \"}\n                          취소\n                        </button>\n                      </div>\n                    ) : (\n                      <button\n                        className=\"fileDelete\"\n                        onClick={() => setDelFileConf(index)}\n                      >\n                        {\" \"}\n                        <DeleteIcon />\n                      </button>\n                    )}\n                  </div>\n                  {/* </li> */}\n                </div>\n              </div>\n            ))}\n          </ul>\n          <div\n            className=\"row\"\n            style={{ position: \"absolute\", right: \"1%\", bottom: \"-5%\" }}\n          ></div>\n        </div>\n      </Card.Body>\n    </Card>\n  );\n}\n\nexport default FileList;\n"]},"metadata":{},"sourceType":"module"}