"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react"),r=function(){return(r=Object.assign||function(e){for(var r,t=1,n=arguments.length;t<n;t++)for(var u in r=arguments[t])Object.prototype.hasOwnProperty.call(r,u)&&(e[u]=r[u]);return e}).apply(this,arguments)};function t(e,r){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&r.indexOf(n)<0&&(t[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var u=0;for(n=Object.getOwnPropertySymbols(e);u<n.length;u++)r.indexOf(n[u])<0&&Object.prototype.propertyIsEnumerable.call(e,n[u])&&(t[n[u]]=e[n[u]])}return t}function n(e,r,t,n){return new(t||(t=Promise))((function(u,c){function i(e){try{o(n.next(e))}catch(e){c(e)}}function a(e){try{o(n.throw(e))}catch(e){c(e)}}function o(e){var r;e.done?u(e.value):(r=e.value,r instanceof t?r:new t((function(e){e(r)}))).then(i,a)}o((n=n.apply(e,r||[])).next())}))}function u(e,r){var t,n,u,c,i={label:0,sent:function(){if(1&u[0])throw u[1];return u[1]},trys:[],ops:[]};return c={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function a(c){return function(a){return function(c){if(t)throw new TypeError("Generator is already executing.");for(;i;)try{if(t=1,n&&(u=2&c[0]?n.return:c[0]?n.throw||((u=n.return)&&u.call(n),0):n.next)&&!(u=u.call(n,c[1])).done)return u;switch(n=0,u&&(c=[2&c[0],u.value]),c[0]){case 0:case 1:u=c;break;case 4:return i.label++,{value:c[1],done:!1};case 5:i.label++,n=c[1],c=[0];continue;case 7:c=i.ops.pop(),i.trys.pop();continue;default:if(!(u=i.trys,(u=u.length>0&&u[u.length-1])||6!==c[0]&&2!==c[0])){i=0;continue}if(3===c[0]&&(!u||c[1]>u[0]&&c[1]<u[3])){i.label=c[1];break}if(6===c[0]&&i.label<u[1]){i.label=u[1],u=c;break}if(u&&i.label<u[2]){i.label=u[2],i.ops.push(c);break}u[2]&&i.ops.pop(),i.trys.pop();continue}c=r.call(e,i)}catch(e){c=[6,e],n=0}finally{t=u=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,a])}}}function c(e){var r="function"==typeof Symbol&&Symbol.iterator,t=r&&e[r],n=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function i(e,r){var t="function"==typeof Symbol&&e[Symbol.iterator];if(!t)return e;var n,u,c=t.call(e),i=[];try{for(;(void 0===r||r-- >0)&&!(n=c.next()).done;)i.push(n.value)}catch(e){u={error:e}}finally{try{n&&!n.done&&(t=c.return)&&t.call(c)}finally{if(u)throw u.error}}return i}function a(){for(var e=[],r=0;r<arguments.length;r++)e=e.concat(i(arguments[r]));return e}var o=function(e){return e instanceof HTMLElement},s="blur",f="change",l="input",d="onBlur",v="onChange",h="onSubmit",y="all",p="max",m="min",b="maxLength",g="minLength",R="pattern",x="required",O="validate";var w=function(e){return null==e},k=function(e){return Array.isArray(e)},C=function(e){return"object"==typeof e},V=function(e){return!w(e)&&!k(e)&&C(e)},S=function(e){return!k(e)&&(/^\w*$/.test(e)||!/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/.test(e))},E=function(e){var r=[];return e.replace(/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,(function(e,t,n,u){r.push(n?u.replace(/\\(\\)?/g,"$1"):t||e)})),r};function F(e,r,t){for(var n=-1,u=S(r)?[r]:E(r),c=u.length,i=c-1;++n<c;){var a=u[n],o=t;if(n!==i){var s=e[a];o=V(s)||k(s)?s:isNaN(+u[n+1])?{}:[]}e[a]=o,e=e[a]}return e}var D=function(e){return Object.entries(e).reduce((function(e,t){var n,u=i(t,2),c=u[0],a=u[1];return S(c)?r(r({},e),((n={})[c]=a,n)):(F(e,c,a),e)}),{})},j=function(e){return void 0===e},B=function(e){return e.filter(Boolean)},A=function(e,r,t){var n=B(r.split(/[,[\].]+?/)).reduce((function(e,r){return w(e)?e:e[r]}),e);return j(n)||n===e?j(e[r])?t:e[r]:n},W=function(e,r){o(e)&&e.removeEventListener&&(e.removeEventListener(l,r),e.removeEventListener(f,r),e.removeEventListener(s,r))},L={isValid:!1,value:""},N=function(e){return k(e)?e.reduce((function(e,r){return r&&r.ref.checked?{isValid:!0,value:r.ref.value}:e}),L):L},P=function(e){return"radio"===e.type},M=function(e){return"file"===e.type},H=function(e){return"checkbox"===e.type},T=function(e){return"select-multiple"===e.type},I={value:!1,isValid:!1},q={value:!0,isValid:!0},z=function(e){if(k(e)){if(e.length>1){var r=e.filter((function(e){return e&&e.ref.checked})).map((function(e){return e.ref.value}));return{value:r,isValid:!!r.length}}var t=e[0].ref,n=t.checked,u=t.value,c=t.attributes;return n?c&&!j(c.value)?j(u)||""===u?q:{value:u,isValid:!0}:q:I}return I};function $(e,r,t){var n=e.current[r];if(n){var u=n.ref.value,c=n.ref;return M(c)?c.files:P(c)?N(n.options).value:T(c)?a(c.options).filter((function(e){return e.selected})).map((function(e){return e.value})):H(c)?z(n.options).value:u}if(t)return t.current[r]}function _(e){return!e||e instanceof HTMLElement&&e.nodeType!==Node.DOCUMENT_NODE&&_(e.parentNode)}var U=function(e){return V(e)&&!Object.keys(e).length};function G(e,r){var t=S(r)?[r]:E(r),n=1==t.length?e:function(e,r){for(var t=r.slice(0,-1).length,n=0;n<t;)e=j(e)?n++:e[r[n++]];return e}(e,t),u=t[t.length-1],c=void 0;n&&delete n[u];for(var i=0;i<t.slice(0,-1).length;i++){var a=-1,o=void 0,s=t.slice(0,-(i+1)),f=s.length-1;for(i>0&&(c=e);++a<s.length;){var l=s[a];o=o?o[l]:e[l],f===a&&(V(o)&&U(o)||k(o)&&!o.filter((function(e){return V(e)&&!U(e)})).length)&&(c?delete c[l]:delete e[l]),c=o}}return e}var J=function(e,r){return e&&e.ref===r};var K=function(e){return"string"==typeof e},Q=function(e,t,n){var u={},c=function(r){(j(n)||(K(n)?r.startsWith(n):k(n)&&n.find((function(e){return r.startsWith(e)}))))&&(u[r]=$(e,r))};for(var i in e.current)c(i);return r(r({},D((t||{}).current||{})),D(u))},X=function(e,r){var t=r.type,n=r.types,u=void 0===n?{}:n,c=r.message;return V(e)&&e.type===t&&e.message===c&&Object.keys(e.types||{}).length===Object.keys(u).length&&Object.entries(e.types||{}).every((function(e){var r=i(e,2),t=r[0],n=r[1];return u[t]===n}))};var Y=function(e){return e instanceof RegExp},Z=function(e){return V(r=e)&&!Y(r)?e:{value:e,message:""};var r},ee=function(e){return"function"==typeof e},re=function(e){return"boolean"==typeof e},te=function(r){return K(r)||V(r)&&e.isValidElement(r)};function ne(e,r,t){if(void 0===t&&(t="validate"),te(e)||re(e)&&!e)return{type:t,message:te(e)?e:"",ref:r}}var ue=function(e,t,n,u,c){var i;if(t){var a=n[e];return r(r({},a),{types:r(r({},a&&a.types?a.types:{}),(i={},i[u]=c||!0,i))})}return{}},ce=function(e,t,a,o){var s=a.ref,f=a.ref,l=f.type,d=f.value,v=a.options,h=a.required,y=a.maxLength,k=a.minLength,C=a.min,S=a.max,E=a.pattern,F=a.validate;return n(void 0,void 0,void 0,(function(){var n,a,f,D,j,B,A,W,L,M,T,I,q,_,G,J,Q,X,ce,ie,ae,oe,se,fe,le,de,ve,he,ye,pe,me,be,ge,Re,xe,Oe,we,ke,Ce,Ve,Se,Ee,Fe,De,je,Be;return u(this,(function(u){switch(u.label){case 0:return n=e.current,a=s.name,f={},D=P(s),j=H(s),B=D||j,A=""===d,W=ue.bind(null,a,t,f),L=function(e,t,n,u,c){void 0===u&&(u=b),void 0===c&&(c=g);var i=e?t:n;f[a]=r({type:e?u:c,message:i,ref:s},W(e?u:c,i))},h&&(!D&&!j&&(A||w(d))||re(d)&&!d||j&&!z(v).isValid||D&&!N(v).isValid)&&(M=te(h)?{value:!!h,message:h}:Z(h),T=M.value,I=M.message,T&&(f[a]=r({type:x,message:I,ref:B?(n[a].options||[])[0].ref:s},W(x,I)),!t))?[2,f]:(w(C)&&w(S)||(he=void 0,ye=void 0,q=Z(S),_=q.value,G=q.message,J=Z(C),Q=J.value,X=J.message,"number"===l||!l&&!isNaN(d)?(ce=s.valueAsNumber||parseFloat(d),w(_)||(he=ce>_),w(Q)||(ye=ce<Q)):(ie=s.valueAsDate||new Date(d),K(_)&&(he=ie>new Date(_)),K(Q)&&(ye=ie<new Date(Q))),!he&&!ye||(L(!!he,G,X,p,m),t)))&&(!K(d)||A||!y&&!k||(ae=Z(y),oe=ae.value,se=ae.message,fe=Z(k),le=fe.value,de=fe.message,ve=d.toString().length,he=!w(oe)&&ve>oe,ye=!w(le)&&ve<le,!he&&!ye||(L(!!he,se,de),t)))&&(!E||A||(pe=Z(E),me=pe.value,be=pe.message,!Y(me)||me.test(d)||(f[a]=r({type:R,message:be,ref:s},W(R,be)),t)))?F?(ge=$(e,a,o),Re=B&&v?v[0].ref:s,ee(F)?[4,F(ge)]:[3,2]):[3,11]:[2,f];case 1:return xe=u.sent(),(Fe=ne(xe,Re))&&(f[a]=r(r({},Fe),W(O,Fe.message)),!t)?[2,f]:[3,11];case 2:if(!V(F))return[3,11];Oe={},u.label=3;case 3:u.trys.push([3,8,9,10]),we=c(Object.entries(F)),ke=we.next(),u.label=4;case 4:return ke.done?[3,7]:(Ce=i(ke.value,2),Ve=Ce[0],Se=Ce[1],U(Oe)||t?[4,Se(ge)]:[3,7]);case 5:Ee=u.sent(),(Fe=ne(Ee,Re,Ve))&&(Oe=r(r({},Fe),W(Ve,Fe.message)),t&&(f[a]=Oe)),u.label=6;case 6:return ke=we.next(),[3,4];case 7:return[3,10];case 8:return De=u.sent(),je={error:De},[3,10];case 9:try{ke&&!ke.done&&(Be=we.return)&&Be.call(we)}finally{if(je)throw je.error}return[7];case 10:if(!U(Oe)&&(f[a]=r({ref:Re},Oe),!t))return[2,f];u.label=11;case 11:return[2,f]}}))}))},ie=function(e){return w(e)||!C(e)},ae=function(e,r){return Object.entries(r).map((function(t){var n=i(t,2),u=n[0];return function(r,t,n){var u=n?e+"."+t:e+"["+t+"]";return ie(r)?u:ae(u,r)}(n[1],u,V(r))})).flat(1/0)},oe=function(e,r,t,n,u){var c;return t.add(r),U(e)?c=void 0:(c=A(e,r),(V(c)||k(c))&&ae(r,c).forEach((function(e){return t.add(e)}))),j(c)?u?n:A(n,r):c},se=function(e){var r=e.isOnBlur,t=e.isOnChange,n=e.isReValidateOnBlur,u=e.isReValidateOnChange,c=e.isBlurEvent,i=e.isSubmitted;return(i?n:r)?!c:!(i?u:t)||c},fe=function(e){return e.substring(0,e.indexOf("["))};function le(e,r){if(!k(e)||!k(r)||e.length!==r.length)return!0;for(var t=0;t<e.length;t++){var n=e[t],u=r[t];if(j(u)||Object.keys(n).length!==Object.keys(u).length)return!0;for(var c in n)if(n[c]!==u[c])return!0}return!1}var de=function(e,r){return RegExp(("^"+r+"[\\d+]").replace(/\[/g,"\\[").replace(/\]/g,"\\]")).test(e)},ve=function(e,r){return a(e).some((function(e){return de(r,e)}))};var he=function(e){return{isOnSubmit:!e||e===h,isOnBlur:e===d,isOnChange:e===v,isOnAll:e===y}},ye=function(e){return P(e)||H(e)},pe="undefined"==typeof window,me="undefined"!=typeof document&&!pe&&!j(window.HTMLElement),be=me?"Proxy"in window:"undefined"!=typeof Proxy;var ge=e.createContext(null);ge.displayName="RHFContext";var Re=function(){return e.useContext(ge)},xe=function(){var e="undefined"==typeof performance?Date.now():1e3*performance.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(r){var t=(16*Math.random()+e)%16|0;return("x"==r?t:3&t|8).toString(16)}))};var Oe=function(e,r){return j(r)?[]:k(r)?function(e,r){for(var t=-1;++t<e.length;)r.indexOf(t)>=0&&delete e[t];return B(e)}(e,r):function(e,r){return a(e.slice(0,r),e.slice(r+1))}(e,r)},we=function(e,r,t){return k(e)?(j(e[t])&&(e[t]=void 0),e.splice(t,0,e.splice(r,1)[0]),e):[]},ke=function(e,r,t){var n=[e[t],e[r]];e[r]=n[0],e[t]=n[1]};function Ce(e,r){return a(k(r)?r:[r||void 0],e)}function Ve(e,r,t){return a(e.slice(0,r),k(t)?t:[t||void 0],e.slice(r))}var Se=function(e){return k(e)?Array(e.length).fill(void 0):void 0};function Ee(e){if(V(e)){var r={};for(var t in e)r[t]=!0;return[r]}return[!0]}var Fe=function(e){return k(e)?e.map(Ee).flat():Ee(e)},De=function(e,t){var n;return r(((n={})[t]=xe(),n),V(e)?e:{value:e})},je=function(e,r){return(k(e)?e:[]).map((function(e){return De(e,r)}))};exports.Controller=function(n){var u=n.name,c=n.rules,a=n.as,o=n.render,s=n.defaultValue,f=n.control,l=n.onFocus,d=t(n,["name","rules","as","render","defaultValue","control","onFocus"]),v=Re(),h=f||v.control,y=h.defaultValuesRef,p=h.setValue,m=h.register,b=h.unregister,g=h.trigger,R=h.mode,x=R.isOnChange,O=R.isOnBlur,w=h.reValidateMode,k=w.isReValidateOnBlur,C=w.isReValidateOnChange,S=h.isSubmittedRef,E=h.touchedFieldsRef,D=h.readFormStateRef,B=h.reRender,W=h.fieldsRef,L=h.fieldArrayNamesRef,N=h.unmountFieldsStateRef,P=h.formState,M=!ve(L.current,u),H=function(){return!j(A(N.current,u))&&M?N.current[u]:j(s)?A(y.current,u):s},T=i(e.useState(H()),2),I=T[0],q=T[1],z=e.useRef(I),$=e.useRef(l),_=S.current,U=function(){return!se({isOnBlur:O,isOnChange:x,isReValidateOnBlur:k,isReValidateOnChange:C,isSubmitted:_})},G=function(e){var r=function(e){return ie(e)||!V(e.target)||V(e.target)&&!e.type?e:j(e.target.value)?e.target.checked:e.target.value}(i(e,1)[0]);return q(r),z.current=r,r},J=e.useCallback((function(){W.current[u]?W.current[u]=r({ref:W.current[u].ref},c):m(Object.defineProperty({name:u,focus:$.current},"value",{set:function(e){q(e),z.current=e},get:function(){return z.current}}),c)}),[W,c,u,$,m]);e.useEffect((function(){return function(){!ve(L.current,u)&&b(u)}}),[b,u,L]),e.useEffect((function(){J()}),[J]),e.useEffect((function(){W.current[u]||(J(),M&&q(H()))}));var K=function(){D.current.touched&&!A(E.current,u)&&(F(E.current,u,!0),B()),(O||P.isSubmitted&&k)&&g(u)},Q=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return p(u,G(e),{shouldValidate:U(),shouldDirty:!0})},X=r(r({},d),{onChange:Q,onBlur:K,name:u,value:I});return a?e.isValidElement(a)?e.cloneElement(a,X):e.createElement(a,X):o?o({onChange:Q,onBlur:K,value:I}):null},exports.FormProvider=function(n){var u=n.children,c=t(n,["children"]);return e.createElement(ge.Provider,{value:r({},c)},u)},exports.appendErrors=ue,exports.get=A,exports.transformToNestObject=D,exports.useFieldArray=function(t){var n,u=t.control,o=t.name,s=t.keyName,f=void 0===s?"id":s,l=Re(),d=e.useRef(-1),v=u||l.control,h=v.isWatchAllRef,y=v.resetFieldArrayFunctionRef,p=v.fieldArrayNamesRef,m=v.reRender,b=v.fieldsRef,g=v.defaultValuesRef,R=v.removeFieldEventListener,x=v.errorsRef,O=v.dirtyFieldsRef,w=v.isDirtyRef,C=v.touchedFieldsRef,V=v.readFormStateRef,E=v.watchFieldsRef,D=v.validFieldsRef,W=v.fieldsWithValidationRef,L=v.fieldArrayDefaultValues,N=v.validateSchemaIsValid,P=v.renderWatchedInputs,M=v.getValues,H=function(){return a(A(L.current[fe(o)]?L.current:g.current,o,[]))},T=e.useRef(H()),I=i(e.useState(je(T.current,f)),2),q=I[0],z=I[1],$=i(e.useState(!1),2),_=$[0],U=$[1],J=e.useRef(q),K=S(o),Q=function(){return E.current.has(o)?A(M(),o).map((function(e,t){return r(r({},J.current[t]),e)})):J.current};J.current=q,K&&(L.current[o]=T.current);var X=function(e){return e.map((function(e){return De(e,f)}))},Y=function(e){var r;z(e),V.current.isValid&&N&&N(((r={})[o]=e,r))},Z=function(e){(V.current.dirtyFields||V.current.isDirty)&&(e=!0),P(o),e&&!h.current&&m()},ee=function(e){for(var r in V.current.isDirty&&(w.current=j(e)||le(e,A(g.current,o,[]))),b.current)de(r,o)&&b.current[r]&&R(b.current[r],!0)},re=function(){ee(),T.current=H(),z(je(T.current,f))};return e.useEffect((function(){var e,r;if(K&&_&&L.current[o]&&q.length<L.current[o].length&&L.current[o].pop(),h.current)m();else if(E)try{for(var t=c(E.current),n=t.next();!n.done;n=t.next()){if(n.value.startsWith(o)){m();break}}}catch(r){e={error:r}}finally{try{n&&!n.done&&(r=t.return)&&r.call(t)}finally{if(e)throw e.error}}if(d.current>-1)for(var u in b.current){var i=b.current[u];if(u.startsWith(o+"["+d.current+"]")&&i.ref.focus){i.ref.focus();break}}d.current=-1}),[q,o,L,_,K,m,b,E,h]),e.useEffect((function(){var e=y.current,r=p.current;return r.add(o),e[o]=re,function(){ee(),delete e[o],r.delete(o)}}),[]),{swap:e.useCallback((function(e,r){n=!1;var t=Q();ke(t,e,r),ee(t),Y(a(t)),k(A(x.current,o))&&ke(A(x.current,o),e,r),V.current.touched&&C.current[o]&&(ke(C.current[o],e,r),n=!0),(V.current.dirtyFields||V.current.isDirty)&&O.current[o]&&(ke(O.current[o],e,r),n=!0),Z(n)}),[o]),move:e.useCallback((function(e,r){n=!1;var t=Q();we(t,e,r),ee(t),Y(a(t)),k(A(x.current,o))&&we(A(x.current,o),e,r),V.current.touched&&C.current[o]&&(we(C.current[o],e,r),n=!0),(V.current.dirtyFields||V.current.isDirty)&&O.current[o]&&(we(O.current[o],e,r),n=!0),Z(n)}),[o]),prepend:e.useCallback((function(e,r){void 0===r&&(r=!0);var t=Se(e);n=!1,Y(Ce(Q(),k(e)?X(e):[De(e,f)])),ee(),k(A(x.current,o))&&(x.current[o]=Ce(A(x.current,o),t)),V.current.touched&&C.current[o]&&(C.current[o]=Ce(C.current[o],t),n=!0),(V.current.dirtyFields||V.current.isDirty)&&O.current[o]&&(O.current[o]=Ce(O.current[o],Fe(e)),n=!0),Z(n),d.current=r?0:-1}),[o]),append:e.useCallback((function(e,r){void 0===r&&(r=!0),n=!1,Y(a(J.current,k(e)?X(e):[De(e,f)])),V.current.dirtyFields&&(O.current[o]=a(O.current[o]||Se(q.slice(0,1)),Fe(e)),w.current=!0,n=!0),d.current=r?J.current.length:-1,Z(n)}),[o]),remove:e.useCallback((function(e){if(n=!1,Y(Oe(Q(),e)),ee(Oe(A(M(),o),e)),U(!0),k(A(x.current,o))&&(F(x.current,o,Oe(A(x.current,o),e)),B(A(x.current,o,[])).length||G(x.current,o)),V.current.touched&&C.current[o]&&(C.current[o]=Oe(C.current[o],e),n=!0),(V.current.dirtyFields||V.current.isDirty)&&O.current[o]&&(O.current[o]=Oe(O.current[o],e),O.current[o].length||delete O.current[o],n=!0),V.current.isValid&&!N)for(var r=-1,t=!1,u=j(e);r++<q.length;){var c=r===q.length-1,i=(k(e)?e:[e]).indexOf(r)>=0;if((i||u)&&(t=!0),t)for(var a in q[r]){var s=o+"["+r+"]."+a;if(i||c||u)D.current.delete(s),W.current.delete(s);else{var f=o+"["+(r-1)+"]."+a;D.current.has(s)&&D.current.add(f),W.current.has(s)&&W.current.add(f)}}}Z(n)}),[q,o]),insert:e.useCallback((function(e,r,t){void 0===t&&(t=!0),n=!1;var u=Se(r);Y(Ve(Q(),e,k(r)?X(r):[De(r,f)])),ee(Ve(A(M(),o),e)),k(A(x.current,o))&&(x.current[o]=Ve(A(x.current,o),e,u)),V.current.touched&&C.current[o]&&(C.current[o]=Ve(C.current[o],e,u),n=!0),(V.current.dirtyFields||V.current.isDirty)&&O.current[o]&&(O.current[o]=Ve(O.current[o],e,Fe(r)),n=!0),Z(n),d.current=t?e:-1}),[o]),fields:q}},exports.useForm=function(t){var d=this,p=void 0===t?{}:t,m=p.mode,b=void 0===m?h:m,g=p.reValidateMode,R=void 0===g?v:g,x=p.resolver,O=p.context,C=p.defaultValues,S=void 0===C?{}:C,E=p.shouldFocusError,L=void 0===E||E,N=p.shouldUnregister,I=void 0===N||N,q=p.criteriaMode,z=e.useRef({}),Y=e.useRef({}),Z=e.useRef({}),re=e.useRef({}),te=e.useRef({}),ne=e.useRef(new Set),ue=e.useRef({}),de=e.useRef({}),ge=e.useRef(new Set),Re=e.useRef(new Set),xe=e.useRef(!0),Oe=e.useRef(S),we=e.useRef({}),ke=e.useRef(!1),Ce=e.useRef(!1),Ve=e.useRef(!1),Se=e.useRef(!1),Ee=e.useRef(0),Fe=e.useRef(!1),De=e.useRef(),je=e.useRef({}),Be=e.useRef({}),Ae=e.useRef(O),We=e.useRef(x),Le=e.useRef(new Set),Ne=i(e.useState(),2)[1],Pe=e.useRef(he(b)).current,Me=Pe.isOnBlur,He=Pe.isOnSubmit,Te=Pe.isOnChange,Ie=Pe.isOnAll,qe=q===y,ze=e.useRef({isDirty:!be,dirtyFields:!be,isSubmitted:He,submitCount:!be,touched:!be,isSubmitting:!be,isValid:!be}),$e=e.useRef(he(R)).current,_e=$e.isOnBlur,Ue=$e.isOnChange;Ae.current=O,We.current=x;var Ge=e.useCallback((function(){return!ke.current&&Ne({})}),[]),Je=e.useCallback((function(e,r,t){void 0===t&&(t=!1);var n=t||function(e){var r=e.errors,t=e.name,n=e.error,u=e.validFields,c=e.fieldsWithValidation,i=U(n),a=U(r),o=A(n,t),s=A(r,t);return(!i||!u.has(t))&&(!!(a!==i||!a&&!s||i&&c.has(t)&&!u.has(t))||o&&!X(s,o))}({errors:Y.current,error:r,name:e,validFields:Re.current,fieldsWithValidation:ge.current}),u=A(Y.current,e);if(U(r)?((ge.current.has(e)||We.current)&&(Re.current.add(e),n=n||u),Y.current=G(Y.current,e)):(Re.current.delete(e),n=n||!u||!X(u,r[e]),F(Y.current,e,r[e])),n&&!w(t))return Ge(),!0}),[]),Ke=e.useCallback((function(e,r){var t=e.ref,n=e.options,u=me&&o(t)&&w(r)?"":r;P(t)&&n?n.forEach((function(e){var r=e.ref;return r.checked=r.value===u})):M(t)&&!K(u)?t.files=u:T(t)?a(t.options).forEach((function(e){return e.selected=u.includes(e.value)})):H(t)&&n?n.length>1?n.forEach((function(e){var r=e.ref;return r.checked=u.includes(r.value)})):n[0].ref.checked=!!u:t.value=u}),[]),Qe=e.useCallback((function(e){var r=ze.current,t=r.isDirty,n=r.dirtyFields;if(!z.current[e]||!t&&!n)return!1;var u=we.current[e]!==$(z,e,je),c=A(te.current,e),i=ve(Le.current,e),a=Se.current;return u?F(te.current,e,!0):G(te.current,e),Se.current=i&&le(A(ur(),fe(e)),A(Oe.current,fe(e)))||!U(te.current),t&&a!==Se.current||n&&c!==A(te.current,e)}),[]),Xe=e.useCallback((function(e,r){return n(d,void 0,void 0,(function(){var t;return u(this,(function(n){switch(n.label){case 0:return z.current[e]?[4,ce(z,qe,z.current[e],je)]:[3,2];case 1:return t=n.sent(),Je(e,t,!!r&&null),[2,U(t)];case 2:return[2,!1]}}))}))}),[Je,qe]),Ye=e.useCallback((function(e){return n(d,void 0,void 0,(function(){var r,t,n,c,i;return u(this,(function(u){switch(u.label){case 0:return[4,We.current(ur(),Ae.current,qe)];case 1:return r=u.sent().errors,t=xe.current,xe.current=U(r),k(e)?(n=e.map((function(e){var t=A(r,e);return t?F(Y.current,e,t):G(Y.current,e),!t})).every(Boolean),Ge(),[2,n]):(c=A(r,e),Je(e,c?((i={})[e]=c,i):{},t!==xe.current),[2,!c])}}))}))}),[Je,qe]),Ze=e.useCallback((function(e){return n(d,void 0,void 0,(function(){var r,t,c=this;return u(this,(function(i){switch(i.label){case 0:return r=e||Object.keys(z.current),We.current?[2,Ye(r)]:k(r)?[4,Promise.all(r.map((function(e){return n(c,void 0,void 0,(function(){return u(this,(function(r){switch(r.label){case 0:return[4,Xe(e,!0)];case 1:return[2,r.sent()]}}))}))})))]:[3,2];case 1:return t=i.sent(),Ge(),[2,t.every(Boolean)];case 2:return[4,Xe(r)];case 3:return[2,i.sent()]}}))}))}),[Ye,Xe]),er=e.useCallback((function(e,r,t){var n=t.shouldDirty,u=t.shouldValidate;ae(e,r).forEach((function(t){var c,i=z.current[t];i&&(Ke(i,A(((c={})[e]=r,c),t)),n&&Qe(t),u&&Ze(t))}))}),[Ze,Ke,Qe]),rr=e.useCallback((function(e,r,t){return z.current[e]?(Ke(z.current[e],r),t.shouldDirty&&Qe(e)):(ie(r)||er(e,r,t),I||(je.current[e]=r),!0)}),[Qe,Ke,er]),tr=function(e){return Ce.current||ne.current.has(e)||ne.current.has((e.match(/\w+/)||[])[0])},nr=function(e,r){if(void 0===r&&(r=!0),!U(ue.current))for(var t in ue.current)(""===e||ue.current[t].has(e)||ue.current[t].has(fe(e))||!ue.current[t].size)&&(de.current[t](),r=!1);return r};function ur(e){return K(e)?$(z,e,je):k(e)?e.reduce((function(e,t){var n;return r(r({},e),((n={})[t]=$(z,t,je),n))}),{}):Q(z,je)}De.current=De.current?De.current:function(e){var r=e.type,t=e.target;return n(d,void 0,void 0,(function(){var e,n,c,i,a,o,f,l,d;return u(this,(function(u){switch(u.label){case 0:return e=t.name,(n=z.current[e])?(i=r===s,a=!Ie&&se({isOnChange:Te,isOnBlur:Me,isBlurEvent:i,isReValidateOnChange:Ue,isReValidateOnBlur:_e,isSubmitted:Ve.current}),o=Qe(e)||tr(e),i&&!A(Z.current,e)&&ze.current.touched&&(F(Z.current,e,!0),o=!0),a?(nr(e),[2,o&&Ge()]):x?[4,x(ur(),Ae.current,qe)]:[3,2]):[3,5];case 1:return f=u.sent().errors,l=xe.current,xe.current=U(f),c=A(f,e)?((d={})[e]=A(f,e),d):{},l!==xe.current&&(o=!0),[3,4];case 2:return[4,ce(z,qe,n,je)];case 3:c=u.sent(),u.label=4;case 4:nr(e),!Je(e,c)&&o&&Ge(),u.label=5;case 5:return[2]}}))}))};var cr=e.useCallback((function(e){void 0===e&&(e={}),We.current(r(r(r({},Oe.current),ur()),e),Ae.current,qe).then((function(e){var r=e.errors,t=xe.current;xe.current=U(r),t!==xe.current&&Ge()}))}),[qe]),ir=e.useCallback((function(e,r){return function(e,r,t,n,u,c){var i=t.ref,a=t.ref,o=a.name,s=a.type,f=t.mutationWatcher,l=e.current[o];if(!u){var d=$(e,o,n);j(d)||(n.current[o]=d)}if(s)if((P(i)||H(i))&&l){var v=l.options;k(v)&&v.length?(B(v).forEach((function(e,t){var n=e.ref,u=e.mutationWatcher;(n&&_(n)&&J(e,n)||c)&&(W(n,r),u&&u.disconnect(),G(v,"["+t+"]"))})),v&&!B(v).length&&delete e.current[o]):delete e.current[o]}else(_(i)&&J(l,i)||c)&&(W(i,r),f&&f.disconnect(),delete e.current[o]);else delete e.current[o]}(z,De.current,e,je,I,r)}),[I]),ar=e.useCallback((function(e,r){!e||ve(Le.current,e.ref.name)&&!r||(ir(e,r),I&&([Y,Z,te,we].forEach((function(r){return G(r.current,e.ref.name)})),[ge,Re].forEach((function(r){return r.current.delete(e.ref.name)})),(ze.current.isValid||ze.current.touched||ze.current.isDirty)&&(Se.current=!U(te.current),Ge(),We.current&&cr())))}),[cr,ir]),or=e.useCallback((function(e,t,n){var u=n?ue.current[n]:ne.current,c=j(t)?Oe.current:t,i=Q(z,je,e);return K(e)?oe(i,e,u,j(t)?A(c,e):t,!0):k(e)?e.reduce((function(e,t){var n;return r(r({},e),((n={})[t]=oe(i,t,u,c),n))}),{}):(j(n)&&(Ce.current=!0),D(!U(i)&&i||c))}),[]);function sr(e,t){void 0===t&&(t={});var n,u,c=e.name,i=e.type,d=e.value,v=r({ref:e},t),h=z.current,y=ye(e),p=h[c],m=!0;if(p&&(y?k(p.options)&&B(p.options).find((function(r){return d===r.ref.value&&r.ref===e})):e===p.ref))h[c]=r(r({},p),t);else{if(i){var b=(g=e,R=function(){return ar(p)},(O=new MutationObserver((function(){_(g)&&(O.disconnect(),R())}))).observe(window.document,{childList:!0,subtree:!0}),O);p=y?r({options:a(B(p&&p.options||[]),[{ref:e,mutationWatcher:b}]),ref:{type:i,name:c}},t):r(r({},v),{mutationWatcher:b})}else p=v;var g,R,O;h[c]=p;var w=j(A(je.current,c));if(U(Oe.current)&&w||(u=A(w?Oe.current:je.current,c),m=j(u),n=ve(Le.current,c),m||n||Ke(p,u)),x&&!n&&ze.current.isValid?cr():U(t)||(ge.current.add(c),!He&&ze.current.isValid&&ce(z,qe,p,je).then((function(e){var r=xe.current;U(e)?Re.current.add(c):xe.current=!1,r!==xe.current&&Ge()}))),!(we.current[c]||n&&m)){var C=$(z,c,je);we.current[c]=m?V(C)?r({},C):C:u}i&&function(e,r,t){var n=e.ref;o(n)&&t&&(n.addEventListener(r?f:l,t),n.addEventListener(s,t))}(y&&p.options?p.options[p.options.length-1]:p,y||function(e){return"select-one"===e.type}(e),De.current)}}var fr=e.useCallback((function(e){return function(t){return n(d,void 0,void 0,(function(){var n,i,a,o,s,f,l,d,v,h,y,p,m;return u(this,(function(u){switch(u.label){case 0:t&&t.preventDefault&&(t.preventDefault(),t.persist()),n={},i=ur(),ze.current.isSubmitting&&(Fe.current=!0,Ge()),u.label=1;case 1:return u.trys.push([1,,14,15]),We.current?[4,We.current(i,Ae.current,qe)]:[3,3];case 2:return a=u.sent(),o=a.errors,s=a.values,Y.current=o,n=o,i=s,[3,10];case 3:u.trys.push([3,8,9,10]),f=c(Object.values(z.current)),l=f.next(),u.label=4;case 4:return l.done?[3,7]:(d=l.value)?(v=d.ref.name,[4,ce(z,qe,d,je)]):[3,6];case 5:(h=u.sent())[v]?(F(n,v,h[v]),Re.current.delete(v)):ge.current.has(v)&&(G(Y.current,v),Re.current.add(v)),u.label=6;case 6:return l=f.next(),[3,4];case 7:return[3,10];case 8:return y=u.sent(),p={error:y},[3,10];case 9:try{l&&!l.done&&(m=f.return)&&m.call(f)}finally{if(p)throw p.error}return[7];case 10:return U(n)&&Object.keys(Y.current).every((function(e){return Object.keys(z.current).includes(e)}))?(Y.current={},Ge(),[4,e(i,t)]):[3,12];case 11:return u.sent(),[3,13];case 12:Y.current=r(r({},Y.current),n),L&&function(e,r){for(var t in e)if(A(r,t)){var n=e[t];if(n){if(n.ref.focus){n.ref.focus();break}if(n.options){n.options[0].ref.focus();break}}}}(z.current,n),u.label=13;case 13:return[3,15];case 14:return Ve.current=!0,Fe.current=!1,Ee.current=Ee.current+1,Ge(),[7];case 15:return[2]}}))}))}}),[L,qe]);e.useEffect((function(){return ke.current=!1,function(){ke.current=!0,z.current&&Object.values(z.current).forEach((function(e){return ar(e,!0)}))}}),[ar]),x||(xe.current=Re.current.size>=ge.current.size&&U(Y.current));var lr={dirtyFields:te.current,isSubmitted:Ve.current,submitCount:Ee.current,touched:Z.current,isDirty:Se.current,isSubmitting:Fe.current,isValid:He?Ve.current&&U(Y.current):xe.current},dr={trigger:Ze,setValue:e.useCallback((function(e,r,t){void 0===t&&(t={});var n=rr(e,r,t)||tr(e);nr(e),n&&Ge(),t.shouldValidate&&Ze(e)}),[Ge,rr,Ze]),getValues:e.useCallback(ur,[]),register:e.useCallback((function(e,r){if(!pe)if(K(e))sr({name:e},r);else{if(!V(e)||!("name"in e))return function(r){return r&&sr(r,e)};sr(e,r)}}),[Oe.current]),unregister:e.useCallback((function(e){(k(e)?e:[e]).forEach((function(e){return ar(z.current[e],!0)}))}),[]),formState:be?new Proxy(lr,{get:function(e,r){if(r in e)return ze.current[r]=!0,e[r]}}):lr},vr=r(r(r({removeFieldEventListener:ir,renderWatchedInputs:nr,watchInternal:or,reRender:Ge},x?{validateSchemaIsValid:cr}:{}),{mode:{isOnBlur:Me,isOnSubmit:He,isOnChange:Te},reValidateMode:{isReValidateOnBlur:_e,isReValidateOnChange:Ue},errorsRef:Y,touchedFieldsRef:Z,fieldsRef:z,isWatchAllRef:Ce,watchFieldsRef:ne,resetFieldArrayFunctionRef:Be,watchFieldsHookRef:ue,watchFieldsHookRenderRef:de,fieldArrayDefaultValues:re,validFieldsRef:Re,dirtyFieldsRef:te,fieldsWithValidationRef:ge,fieldArrayNamesRef:Le,isDirtyRef:Se,isSubmittedRef:Ve,readFormStateRef:ze,defaultValuesRef:Oe,unmountFieldsStateRef:je}),dr);return r({watch:function(e,r){return or(e,r)},control:vr,handleSubmit:fr,reset:e.useCallback((function(e,r){var t,n;if(void 0===r&&(r={}),me)try{for(var u=c(Object.values(z.current)),i=u.next();!i.done;i=u.next()){var a=i.value;if(a){var s=a.ref,f=a.options,l=ye(s)&&k(f)?f[0].ref:s;if(o(l))try{l.closest("form").reset();break}catch(e){}}}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=u.return)&&n.call(u)}finally{if(t)throw t.error}}e&&(Oe.current=e,nr("")),je.current=I?{}:e||{},Object.values(Be.current).forEach((function(e){return ee(e)&&e()})),function(e){var r=e.errors,t=e.isDirty,n=e.isSubmitted,u=e.touched,c=e.isValid,i=e.submitCount,a=e.dirtyFields;z.current={},r||(Y.current={}),u||(Z.current={}),c||(Re.current=new Set,ge.current=new Set,xe.current=!0),t||(Se.current=!1),a||(te.current={}),n||(Ve.current=!1),i||(Ee.current=0),we.current={},re.current={},ne.current=new Set,Ce.current=!1}(r),Ge()}),[]),clearErrors:e.useCallback((function(e){e?(k(e)?e:[e]).forEach((function(e){return G(Y.current,e)})):Y.current={},Ge()}),[]),setError:e.useCallback((function(e,t){xe.current=!1,F(Y.current,e,r(r({},t),{ref:(z.current[e]||{}).ref})),Ge()}),[]),errors:Y.current},dr)},exports.useFormContext=Re,exports.useWatch=function(t){var n=t.control,u=t.name,c=t.defaultValue,a=Re(),o=n||a.control,s=o.watchFieldsHookRef,f=o.watchFieldsHookRenderRef,l=o.watchInternal,d=o.defaultValuesRef,v=i(e.useState(j(c)?K(u)?A(d.current,u):k(u)?u.reduce((function(e,t){var n;return r(r({},e),((n={})[t]=A(d.current,t),n))}),{}):d.current:c),2),h=v[0],y=v[1],p=e.useRef(),m=e.useRef(c),b=e.useRef(u),g=e.useCallback((function(){return y(l(b.current,m.current,p.current))}),[y,l,m,b,p]);return e.useEffect((function(){var e=p.current=xe(),r=f.current,t=s.current;return t[e]=new Set,r[e]=g,l(b.current,m.current,e),function(){delete t[e],delete r[e]}}),[b,g,f,s,l,m]),j(h)?c:h};
//# sourceMappingURL=index.ie11.production.min.js.map
