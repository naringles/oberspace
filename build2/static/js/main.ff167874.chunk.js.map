{"version":3,"sources":["components/LoginContext.jsx","components/SearchContext.jsx","components/FilesRepo.jsx","components/NavComponent.jsx","components/Header.jsx","components/Footer.jsx","components/DrivesRepo.jsx","components/FileList.jsx","components/FolderChoices.jsx","components/UploadProgressBar.jsx","components/DriveList.jsx","components/AddDrives.jsx","components/FileUpload.jsx","components/UserHome.jsx","components/RegisterTab.jsx","components/LoginTab.jsx","components/SignUp.jsx","App.jsx","index.js","oneStorage.png"],"names":["LoginContext","createContext","LogInProvider","props","localState","JSON","parse","sessionStorage","getItem","useState","username","status","loggedIn","setLoggedIn","useEffect","setItem","stringify","Provider","value","children","SearchContext","SearchProvider","searchVal","setSearchVal","useMemo","FilterContext","FilterProvider","filterVal","setFilterVal","DarkContext","DarkProvider","localDarkState","darkMode","setDarkMode","FilesContext","FilesProvider","localStorage","files","setFiles","NavComponent","useContext","navBranImgClass","classNames","customSwitchClass","homeRoute","setValue","inputValue","setInputValue","console","log","document","querySelectorAll","forEach","element","style","backgroundColor","color","querySelector","Navbar","variant","expand","sticky","Brand","href","float","src","logo","width","height","className","alt","paddingTop","Toggle","aria-controls","Collapse","id","Nav","type","onChange","htmlFor","Autocomplete","event","newValue","onInputChange","newInputValue","clearOnEscape","clearOnBlur","freeSolo","label","options","map","file","fileName","renderInput","params","TextField","background","placeholder","Link","onClick","clearSession","fill","Header","clear","Footer","year","Date","getFullYear","margin","padding","fontSize","DrivesContext","DrivesProvider","drives","setDrives","DriveDeleteContext","DriveDeleteProvider","message","driveDeleted","setDriveDeleted","FileList","match","history","useHistory","window","location","hash","replaceState","split","fileList","setFileList","start","end","markers","setMarkers","slice","visibleArray","setVisibleArray","filter","fileFolderType","delFileConf","setDelFileConf","Card","position","left","top","title","right","length","Body","index","key","fileId","webViewLink","undefined","size","toFixed","e","fId","fName","folderType","axios","post","name","then","resp","data","success","catch","err","error","bottom","FolderChoices","handleSelect","target","innerText","Dropdown","as","ButtonGroup","drop","Menu","folder","Item","eventKey","Progress","percentage","role","DriveList","driveUsage","setDriveUsage","driveUsagePct","setDriveUsagePct","googleDrive","oneDrive","dropbox","driveTypes","setDriveTypes","driveExpand","setDriveExpand","drive","usage","parseFloat","storageUsage","limit","storageLimit","reduce","x","y","storageType","attributes","getNamedItem","handleDelete","driveId","driveType","driveIdDelete","reload","setTimeout","Title","ProgressBar","now","parseInt","marginTop","email","Math","round","confirmAlert","buttons","AddDrives","FileUpload","show","upFiles","setUpFiles","fileNames","setFileNames","uploadPct","setUploadPct","setShow","messages","setMessage","fname","prevMsg","Set","handleSubmit","a","preventDefault","formData","FormData","i","upFile","item","append","headers","onUploadProgress","progressEvent","loaded","total","res","response","msg","Modal","onHide","handleClose","backdrop","keyboard","closeButton","onSubmit","multiple","overflowY","Home","mimeSuffixName","mimeSuffixValue","mimeSuffixMappings","Object","socketIO","process","sockIO","connect","on","createdAt","lastFetchDt","oldFiles","_","unionBy","driveAdded","setDriveAdded","queryString","search","urlParams","URLSearchParams","get","includes","showUpload","withCredentials","flat","sort","b","mimeSuffArr","mimeType","mimeSuff","toLowerCase","push","Register","useForm","register","watch","errors","nameTaken","setNameTaken","reset","ref","required","pattern","password","validate","cnfPassword","LoginTab","loginFail","setLoginFail","authenticate","SignUp","containerClasses","navClasses","navItemClasses","setRegister","paddingLeft","textShadow","App","path","exact","component","UserHome","ReactDOM","render","getElementById","module","exports"],"mappings":"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","file":"static/js/main.ff167874.chunk.js","sourcesContent":["import React, {useState,useEffect,createContext} from \"react\";\r\n\r\nexport const LoginContext=createContext();\r\n\r\nexport const LogInProvider = props => {\r\n    const localState = JSON.parse(sessionStorage.getItem(\"login\"));\r\n    const [loggedIn, setLoggedIn] = useState(localState || {username:'',status:false});\r\n \r\n    useEffect(() => {\r\n        sessionStorage.setItem(\"login\", JSON.stringify(loggedIn));\r\n    }, [loggedIn]);\r\n\r\n\r\n\r\n    return (\r\n        <LoginContext.Provider value={ [loggedIn, setLoggedIn] }>\r\n        {props.children}\r\n        </LoginContext.Provider>\r\n    );\r\n};","import React, {useState,useMemo,useEffect,createContext} from \"react\";\r\n\r\nexport const SearchContext=createContext();\r\n\r\nexport const SearchProvider = props => {\r\n    \r\n    const [searchVal, setSearchVal] = useState(\"\");\r\n\r\n    const value=useMemo(()=>({searchVal, setSearchVal}));\r\n\r\n    return (\r\n        <SearchContext.Provider value={value}>\r\n        {props.children}\r\n        </SearchContext.Provider>\r\n    );\r\n};\r\n\r\n\r\nexport const FilterContext=createContext();\r\n\r\nexport const FilterProvider = props => {\r\n    \r\n    const [filterVal, setFilterVal] = useState(\"\");\r\n    const value=useMemo(()=>({filterVal, setFilterVal}));\r\n\r\n    return (\r\n        <FilterContext.Provider value={value}>\r\n        {props.children}\r\n        </FilterContext.Provider>\r\n    );\r\n};\r\n\r\n\r\nconst localDarkState = JSON.parse(sessionStorage.getItem(\"dark\"));\r\n\r\nexport const DarkContext=createContext();\r\n\r\nexport const DarkProvider = props => {\r\n    \r\nconst localDarkState = JSON.parse(sessionStorage.getItem(\"dark\"));\r\nconst [darkMode, setDarkMode] = useState(localDarkState||false);\r\n \r\nuseEffect(() => {\r\n    sessionStorage.setItem(\"dark\", darkMode);\r\n}, [darkMode]);\r\n\r\n    const value=useMemo(()=>({darkMode, setDarkMode}));\r\n\r\n    return (\r\n        <DarkContext.Provider value={value}>\r\n        {props.children}\r\n        </DarkContext.Provider>\r\n    );\r\n};\r\n\r\n","import React, {useState,createContext,useMemo,useEffect} from \"react\";\r\n\r\nexport const FilesContext=createContext();\r\n\r\nexport const FilesProvider = props => {\r\n    const localState = JSON.parse(localStorage.getItem(\"files\"));\r\n    \r\n    const [files, setFiles] = useState(localState || []);\r\n    \r\n    useEffect(() => {\r\n        localStorage.setItem(\"files\", JSON.stringify(files));\r\n\r\n    }, [files]);\r\n\r\n    const value=useMemo(()=>({files, setFiles}));\r\n\r\n    return (\r\n        <FilesContext.Provider value={value}>\r\n        {props.children}\r\n        </FilesContext.Provider>\r\n    );\r\n};","import React,{useContext,useState,useEffect} from \"react\";\r\nimport HighlightIcon from \"@material-ui/icons/Highlight\";\r\nimport classNames from \"classnames\";\r\nimport ExitToAppTwoToneIcon from '@material-ui/icons/ExitToAppTwoTone';\r\nimport {LoginContext} from \"./LoginContext\";\r\nimport {FilesContext} from \"./FilesRepo\";\r\nimport {SearchContext,DarkContext} from \"./SearchContext\";\r\nimport HomeIcon from '@material-ui/icons/Home';\r\nimport {Container,Navbar,Nav,Form,Button, NavDropdown}  from 'react-bootstrap';\r\nimport logo from \"../oneStorage.png\";\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Autocomplete from '@material-ui/lab/Autocomplete';\r\n\r\nconst NavComponent =(props)=> {\r\n  const [loggedIn, setLoggedIn] = useContext(LoginContext);\r\n  const  {searchVal, setSearchVal} = useContext(SearchContext);\r\n  const  {files, setFiles} = useContext(FilesContext);\r\n  const navBranImgClass = classNames(\"d-inline-block\",\"align-top\");\r\n  const customSwitchClass= classNames(\"custom-control\",\"custom-switch\",\"darkMode\");\r\n  const homeRoute=\"/user/home/\"+loggedIn.username;\r\n  // const userDetailsRoute=\"/\"+loggedIn.type+\"/userDetails\";\r\n  // const merchantDetailsRoute=\"/\"+loggedIn.type+\"/merchantDetails\";\r\n  const headerPadding={\r\n    paddingLeft:\"10rem\"\r\n  };\r\n  \r\n  // console.log(\"userDetailsRoute: \",userDetailsRoute);\r\n\r\n  const [value, setValue] = useState(\"\");\r\n  const [inputValue, setInputValue] = useState(\"\");\r\n  const {darkMode, setDarkMode} = useContext(DarkContext);\r\n  const changeMode =() =>{\r\n    setDarkMode(!darkMode);\r\n  }\r\n  useEffect(() => {\r\n    console.log(\"dark mode: \",darkMode);\r\n    if(darkMode)\r\n    {\r\n      \r\n      var elements=document.querySelectorAll(\"body,.card,.list-group-item,.tooltiptext\");\r\n      elements.forEach((element)=>{\r\n        element.style.backgroundColor=\"#000\";\r\n        element.style.color=\"#fff\";\r\n      })\r\n      document.querySelector(\".footerComp\").style.color=\"#fff\";\r\n  \r\n    }\r\n    else\r\n    {\r\n      var elements=document.querySelectorAll(\"body,.card,.list-group-item,.tooltiptext\");\r\n      elements.forEach((element)=>{\r\n        element.style.backgroundColor=\"#fff\";\r\n        element.style.color=\"#000\";\r\n        document.querySelector(\".footerComp\").style.color=\"#000\";\r\n      })\r\n      \r\n\r\n    }\r\n  }, [darkMode])\r\n\r\n  // console.log(\"body color:\", );\r\n\r\nreturn (\r\n  \r\n   <Navbar variant=\"dark\" expand=\"lg\" sticky=\"top\">\r\n\r\n    <Navbar.Brand href={homeRoute}>\r\n    <img style={{float:\"left\"}} src={logo} width=\"80\" height=\"60\" className={navBranImgClass} alt=\"CheckMeIn logo\"/>\r\n    <h3 style={{paddingTop:\"10%\"}}>OneStorage</h3>\r\n    </Navbar.Brand>\r\n    <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\r\n    <Navbar.Collapse id=\"basic-navbar-nav\">\r\n    <Nav className=\"ml-auto\">\r\n      <div className={customSwitchClass}>\r\n    <input type=\"checkbox\" onChange={changeMode} className=\"custom-control-input\" id=\"customSwitch1\" />\r\n    <label className=\"custom-control-label\" htmlFor=\"customSwitch1\">{darkMode? <span>Night Mode</span>:<span>Day Mode</span>  }</label>    \r\n    </div>\r\n    </Nav>\r\n\r\n    <Nav className=\"ml-auto\">\r\n    <Autocomplete\r\n        value={value}\r\n        onChange={(event, newValue) => {\r\n          setValue(newValue);\r\n          setSearchVal(newValue);\r\n        }}\r\n        inputValue={inputValue}\r\n        onInputChange={(event, newInputValue) => {setInputValue(newInputValue);}}      \r\n        id=\"free-solo-demo\"\r\n        clearOnEscape\r\n        clearOnBlur\r\n        freeSolo\r\n        label=\"Search\"\r\n        options={files.map((file)=>file.fileName)}\r\n        style={{ width:\"100%\",height:\"10%\" }}\r\n        renderInput={(params) => <TextField {...params} style={{background:\"white\",width:\"40vw\"}} variant=\"outlined\" placeholder=\"Search Files\" />}\r\n      />\r\n      </Nav>\r\n\r\n    \r\n    <Nav className=\"ml-auto\">\r\n    <Nav.Link href=\"/user/auth/logout\" onClick={props.clearSession}>Logout <ExitToAppTwoToneIcon style={{fill:\"white\"}}/></Nav.Link>\r\n    </Nav>\r\n    </Navbar.Collapse>    \r\n    </Navbar>\r\n  );\r\n}\r\n\r\nexport default NavComponent;\r\n","import React,{useContext,useState,useEffect} from \"react\";\r\nimport HighlightIcon from \"@material-ui/icons/Highlight\";\r\nimport classNames from \"classnames\";\r\nimport {LoginContext} from \"./LoginContext\";\r\nimport {DarkContext} from \"./SearchContext\"\r\n\r\nimport HomeIcon from '@material-ui/icons/Home';\r\nimport NavComponent from \"./NavComponent\";\r\nimport logo from \"../oneStorage.png\";\r\nimport {Navbar,Nav,Form,Button, NavDropdown}  from 'react-bootstrap';\r\nfunction Header() {\r\n  const [loggedIn, setLoggedIn] = useContext(LoginContext);\r\n  \r\n  const navBranImgClass = classNames(\"d-inline-block\",\"align-top\");\r\n  const customSwitchClass= classNames(\"custom-control\",\"custom-switch\",\"darkMode\");\r\n  const homeRoute=\"/\";\r\n  const {darkMode, setDarkMode} = useContext(DarkContext);\r\n\r\n  const changeMode =() =>{\r\n    setDarkMode(!darkMode);\r\n  }\r\n  useEffect(() => {\r\n    if(darkMode)\r\n    {\r\n      var elements=document.querySelectorAll(\"body,.card,.list-group-item\");\r\n      elements.forEach((element)=>{\r\n        element.style.backgroundColor=\"#000\";\r\n        element.style.color=\"#fff\";\r\n      })\r\n  \r\n    }\r\n    else\r\n    {\r\n      var elements=document.querySelectorAll(\"body,.card,.list-group-item\");\r\n      elements.forEach((element)=>{\r\n        element.style.backgroundColor=\"#fff\";\r\n        element.style.color=\"#000\";\r\n      })\r\n      \r\n\r\n    }\r\n  }, [darkMode])\r\n\r\n  const clearSession = () => {\r\n    setLoggedIn({username:'',status:false});\r\n    sessionStorage.clear()\r\n  }\r\n\r\n\r\nreturn (\r\n    <header>  \r\n   {loggedIn.status?<NavComponent clearSession={clearSession} />: \r\n  <Navbar variant=\"dark\" sticky=\"top\">\r\n    <Navbar.Brand href={homeRoute}>\r\n    <img style={{float:\"left\"}} src={logo} width=\"80\" height=\"60\" className={navBranImgClass} alt=\"oneStorage logo\"/>\r\n    <h3 style={{paddingTop:\"10%\"}}>OneStorage</h3>\r\n    </Navbar.Brand>\r\n    <Nav className=\"ml-auto\">\r\n    <div className={customSwitchClass}>\r\n    <input type=\"checkbox\" onChange={changeMode} className=\"custom-control-input\" id=\"customSwitch1\" />\r\n    <label className=\"custom-control-label\" htmlFor=\"customSwitch1\">{darkMode? <span>Night Mode</span>:<span>Day Mode</span>  }</label>    \r\n    </div>\r\n    </Nav>\r\n    </Navbar>\r\n   }\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React,{useContext} from \"react\";\r\nimport {LoginContext} from \"./LoginContext\";\r\nimport {Container,Navbar,Nav,Form,Button, NavDropdown}  from 'react-bootstrap';\r\nfunction Footer() {\r\n  const year = new Date().getFullYear();\r\n  const [loggedIn, setLoggedIn] = useContext(LoginContext);\r\n  const homeRoute=\"/user/home/\"+loggedIn.username;\r\n  return (\r\n    <Navbar style={{background:\"none\", height:\"5vh\",margin:\"5% 0 0 0\",padding:\"1.5% 0 0.5% 0\"}} expand=\"lg\" sticky=\"bottom\">\r\n    <Nav className=\"ml-auto mr-auto\">\r\n    <Navbar.Brand href={homeRoute}>\r\n    <p style={{fontSize:\"medium\"}} className=\"footerComp\">Copyright ⓒ {year}</p>\r\n    </Navbar.Brand>        \r\n    </Nav>\r\n    </Navbar>\r\n  );\r\n}\r\n\r\nexport default Footer;\r\n","import React, {useState,createContext,useMemo,useEffect} from \"react\";\r\n\r\nexport const DrivesContext=createContext();\r\n\r\nexport const DrivesProvider = props => {\r\n    const localState = JSON.parse(sessionStorage.getItem(\"drives\"));\r\n\r\n    const [drives, setDrives] = useState(localState || []);\r\n    \r\n    useEffect(() => {\r\n        sessionStorage.setItem(\"drives\", JSON.stringify(drives));\r\n    }, [drives]);\r\n\r\n    const value=useMemo(()=>({drives, setDrives}));\r\n\r\n    return (\r\n        <DrivesContext.Provider value={value}>\r\n        {props.children}\r\n        </DrivesContext.Provider>\r\n    );\r\n};\r\n\r\n\r\nexport const DriveDeleteContext=createContext();\r\n\r\nexport const DriveDeleteProvider = props => {\r\n    \r\n    const [driveDeleted,setDriveDeleted] = useState({status:false,message:\"\"});\r\n    const value=useMemo(()=>({driveDeleted,setDriveDeleted}));\r\n\r\n    return (\r\n        <DriveDeleteContext.Provider value={value}>\r\n        {props.children}\r\n        </DriveDeleteContext.Provider>\r\n    );\r\n};\r\n","import React, { useState, useEffect,useContext } from \"react\";\r\nimport axios from \"axios\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport {LoginContext} from \"./LoginContext\";\r\nimport {DrivesContext} from \"./DrivesRepo\";\r\nimport {FilesContext} from \"./FilesRepo\";\r\nimport {SearchContext,FilterContext} from \"./SearchContext\";\r\nimport _ from 'lodash';\r\nimport SkipNextIcon from '@material-ui/icons/SkipNext';\r\nimport SkipPreviousIcon from '@material-ui/icons/SkipPrevious';\r\nimport ClearIcon from '@material-ui/icons/Clear';\r\nimport {Card}  from 'react-bootstrap';\r\nimport classNames from \"classnames\";\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\n\r\nfunction FileList({ match }) {\r\n  const  {searchVal, setSearchVal} = useContext(SearchContext);\r\n  const  {filterVal, setFilterVal} = useContext(FilterContext);\r\n  let history = useHistory();\r\n  if (window.location.hash === \"#_=_\") {\r\n    history.replaceState\r\n      ? history.replaceState(null, null, window.location.href.split(\"#\")[0])\r\n      : (window.location.hash = \"\");\r\n  }\r\n  const {drives, setDrives} = useContext(DrivesContext);\r\n  const  {files, setFiles} = useContext(FilesContext);\r\n  const  [fileList, setFileList] = useState(files);\r\n  const [loggedIn, setLoggedIn] = useContext(LoginContext);\r\n  const [markers, setMarkers] = useState({start:0,end:10});\r\n  const mimeSuffixName=['octet-stream','vnd.google-apps.spreadsheet','vnd.google-apps.document','vnd.google-apps.presentation','pdf'];\r\n  const mimeSuffixValue=['Plain','Spreadsheet','WordDocument','PowerPoint','PDF'];\r\n  const toolTipClasses = classNames(\"\");\r\n\r\n  const [visibleArray,setVisibleArray]=useState(fileList.slice(markers.start,markers.end)); \r\n  useEffect(() => {\r\n    console.log(\"visible array refresh due to marker\");\r\n    setVisibleArray(fileList.slice(markers.start,markers.end));\r\n\r\n  },[markers])\r\n\r\n  useEffect(() => {\r\n    console.log(\"marker refresh on new files arrival\");\r\n    setMarkers({start:0,end:10});\r\n\r\n  },[fileList])\r\n\r\n\r\n  useEffect(() => {\r\n\r\n    if(searchVal!==null)\r\n    {\r\n      console.log(\"search val : \",searchVal);\r\n      setVisibleArray(fileList.filter(file=>file.fileName===searchVal));\r\n    }\r\n    else{\r\n      console.log(\"search val is null\");\r\n      setVisibleArray(fileList.slice(markers.start,markers.end));\r\n    }\r\n\r\n  },[searchVal])\r\n\r\n  useEffect(() => {\r\n\r\n    if(filterVal!==\"\")\r\n    {   \r\n      setFileList(files.filter(file=>file.fileFolderType===filterVal));\r\n    }\r\n    else{\r\n      setFileList(files);\r\n    }\r\n\r\n  },[filterVal,files])\r\n  \r\n  const clearFilter=()=>{\r\n    setFilterVal(\"\");\r\n  }\r\n\r\n\r\n  const goPrev=()=>{\r\n    if (markers.start>=10){\r\n      setMarkers({start:markers.start-10,end:markers.end-10});\r\n    }\r\n  } \r\n  const goNext=()=>{\r\n    if (markers.end<=fileList.length-10){\r\n      setMarkers({start:markers.start+10,end:markers.end+10});\r\n    }\r\n  } \r\n  const [delFileConf,setDelFileConf]=useState(-1);\r\n  const handleDelete = (fId,fName,folderType,event)=>{ \r\n       \r\n    axios\r\n    .post('/action/file/delete', {id:fId,folderType:folderType,name:fName})\r\n    .then((resp) =>{\r\n      console.log(\"Resp data: \",resp.data);\r\n      if(resp.data.success){\r\n        setFiles(files.filter((file)=>file.fileId !== fId));\r\n      }\r\n    })\r\n    .then(()=>{\r\n      setDelFileConf(-1);\r\n    })\r\n    \r\n    .catch(err => {\r\n      console.error(err);\r\n    });\r\n    \r\n    \r\n  }\r\n  return (\r\n    <Card>\r\n    <div className=\"cardHeader\"><Card.Header >Files \r\n    {filterVal!==\"\"?<div style={{position:\"absolute\",left:\"15%\",top:\"1.5%\"}}><p>File Type :{filterVal} <button  className=\"fileFilter\" title=\"clear\" onClick={clearFilter}><ClearIcon/></button></p></div>:null}\r\n    <div style={{position:\"absolute\",right:\"1%\",top:\"1%\"}}>\r\n    <button className=\"prevIconB\" onClick={goPrev}><SkipPreviousIcon/></button> <button className=\"nextIconB\" onClick={goNext}><SkipNextIcon/></button>\r\n    </div>\r\n    </Card.Header></div>\r\n    <Card.Body className=\"fileList\">\r\n    <div className=\"list-group\">\r\n     <ul>     \r\n     {      \r\n       visibleArray.map((file,index)=>(\r\n         <div key={file.fileId} className=\"fileRow\">\r\n         <div className=\"row\">\r\n         <div  className=\"col-md-10\">\r\n         \r\n         <a href={file.webViewLink}> \r\n         {file.fileName}        \r\n         {file.size !==undefined? <span className=\"tooltiptext\">{(file.size/(1024*1024)).toFixed(3)} MB </span>:null}    \r\n\r\n         </a>\r\n         \r\n        </div>\r\n        <div className=\"col-md-2\" >        \r\n        {delFileConf===index?\r\n         <div>\r\n         <button className=\"btn btn-danger\" onClick={(e)=>handleDelete(file.fileId,file.fileName,file.fileFolderType,e)}> Confirm</button> <br/>  <br/> <button className=\"btn btn-success\"  onClick={()=>setDelFileConf(-1)}> Cancel</button>\r\n         </div>\r\n\r\n        :<button className=\"fileDelete\" onClick={()=>setDelFileConf(index)}> <DeleteIcon/></button>\r\n        }           \r\n        </div>\r\n        {/* </li> */}\r\n        </div>\r\n        </div>\r\n       ))\r\n     }\r\n     </ul>\r\n     <div className=\"row\" style={{position:\"absolute\",right:\"1%\",bottom:\"-5%\"}}>\r\n     \r\n     </div>\r\n    </div>\r\n    </Card.Body>\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport default FileList;\r\n","import React, { useState, useEffect,useContext } from \"react\";\r\nimport _ from 'lodash';\r\nimport {FilterContext} from \"./SearchContext\";\r\n\r\nimport {Card,Dropdown,DropdownButton,ButtonGroup}  from 'react-bootstrap';\r\nfunction FolderChoices() {\r\n  const FolderNames=['PDF','WordDocument','Spreadsheet','PowerPoint','OneNote','Application','Compressed','Audio','Image','Video','Plain','Others'];\r\n  const  {filterVal, setFilterVal} = useContext(FilterContext);\r\n  const handleSelect = (event)=>{\r\n    setFilterVal(event.target.innerText);\r\n  }\r\n  return (\r\n    \r\n    <Dropdown id=\"dropdown-custom-2\" as={ButtonGroup} drop='right'>\r\n    <Dropdown.Toggle className=\"dropDToggle\">Filter by file type</Dropdown.Toggle>\r\n      <Dropdown.Menu className=\"menuColors\">\r\n      \r\n    {      \r\n      FolderNames.map((folder,index)=>(\r\n        <Dropdown.Item key={index} className=\"dropDText\" eventKey={`${index}`} onClick={handleSelect}> {folder}</Dropdown.Item>\r\n       ))\r\n     }\r\n     </Dropdown.Menu>\r\n      </Dropdown>\r\n   \r\n  );\r\n}\r\n\r\nexport default FolderChoices;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nconst Progress = ({ percentage }) => {\r\n  return (\r\n    <div className='upload progress' title={`${percentage}%`}>\r\n      <div\r\n        className='progress-bar progress-bar-striped bg-success'\r\n        role='progressbar'\r\n        style={{ width: `${percentage}%` }}        \r\n      >\r\n      <span className=\"progressPct\">{percentage}%</span>\r\n      </div>    \r\n    </div>\r\n  );\r\n};\r\n\r\nProgress.propTypes = {\r\n  percentage: PropTypes.number.isRequired\r\n};\r\n\r\nexport default Progress;","import React, { useState, useEffect,useContext } from \"react\";\r\nimport axios from \"axios\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport {LoginContext} from \"./LoginContext\";\r\nimport {DrivesContext,DriveDeleteContext} from \"./DrivesRepo\";\r\nimport {FilesContext} from \"./FilesRepo\";\r\nimport FolderChoices from \"./FolderChoices\";\r\nimport {SearchContext} from \"./SearchContext\";\r\nimport Progress from \"./UploadProgressBar\";\r\nimport _ from 'lodash';\r\nimport {ProgressBar, Card}  from 'react-bootstrap';\r\nimport {FaGoogleDrive,FaDropbox} from \"react-icons/fa\";\r\nimport {GrOnedrive} from \"react-icons/gr\";\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport { confirmAlert } from 'react-confirm-alert'; // Import\r\nimport 'react-confirm-alert/src/react-confirm-alert.css'; // Import css\r\n\r\nfunction DriveList({ match }) {\r\n  let history = useHistory();\r\n  const [loggedIn, setLoggedIn] = useContext(LoginContext);\r\n  const {drives, setDrives} = useContext(DrivesContext);\r\n  const {driveDeleted,setDriveDeleted} = useContext(DriveDeleteContext);\r\n  const [driveUsage, setDriveUsage] = useState({});\r\n  const [driveUsagePct, setDriveUsagePct] = useState();\r\n  const [driveTypes, setDriveTypes] = useState({googleDrive:\"\",oneDrive:\"\",dropbox:\"\"});\r\n  const [driveExpand, setDriveExpand] = useState(\"\");\r\n  useEffect(() => {\r\n    if(drives.length>0){\r\n    setDriveUsage(drives.map(drive=>  ({usage:parseFloat(drive.storageUsage),limit:parseFloat(drive.storageLimit)})).reduce((x,y)=>({usage:x.usage+y.usage,limit:x.limit+y.limit})));    \r\n    setDriveTypes({googleDrive:drives.filter(drive => drive.storageType===\"googleDrive\").length,\r\n    oneDrive:drives.filter(drive => drive.storageType===\"oneDrive\").length,\r\n    dropbox:drives.filter(drive => drive.storageType===\"dropbox\").length});\r\n    }\r\n\r\n  },[drives])\r\n\r\nuseEffect(() => {\r\n  setDriveUsagePct((driveUsage.usage/driveUsage.limit)*100);    \r\n  },[driveUsage])\r\n  \r\nconst handleSelect =(event)=>{\r\n  if(driveExpand.length===0)  \r\n  setDriveExpand(event.target.attributes.getNamedItem(\"name\").value);\r\n  else\r\n  setDriveExpand(\"\");\r\n}\r\n\r\nconst handleDelSubmit = (driveIdDelete) => {\r\n  confirmAlert({\r\n    title: 'Confirm to Delete',\r\n    message: 'Are you sure to delete this drive.',\r\n    buttons: [\r\n      {\r\n        label: 'Yes',\r\n        onClick: () => handleDelete(driveIdDelete)\r\n      },\r\n      {\r\n        label: 'No',\r\n        onClick: () => null\r\n      }\r\n    ]\r\n  });\r\n};\r\n\r\nconst handleDelete = (driveId,driveType,event)=>{ \r\n      \r\n       console.log(\"id to delete: \",driveId);\r\n  \r\n  axios\r\n  .post('/action/drive/delete', {driveIdDelete:driveId})\r\n  .then((resp)=>\r\n  {\r\n      if(resp.data.success)\r\n      {\r\n        setDrives(drives.filter(drive=>drive.id !==driveId));\r\n        window.location.reload();\r\n      }\r\n      setDriveDeleted({status:resp.data.success,message:resp.data.message});\r\n      setTimeout(()=> setDriveDeleted({status:false,message:\"\"}),10000);\r\n  })\r\n  .catch(err => {\r\n    console.error(err);\r\n  });\r\n  \r\n  \r\n  \r\n}\r\n  return (\r\n    <div>\r\n    <div className=\"row\">\r\n    <div className=\"col\"  style={{padding:\"0% 0% 1% 2%\",margin:\"0% 2% 1% 5%\"}}>\r\n    <FolderChoices/>\r\n    </div>\r\n    </div>\r\n    <div className=\"row\">\r\n    <div className=\"col\" style={{padding:\"0% 0% 1% 2%\",margin:\"0% 2% 1% 5%\"}}>\r\n    <Card>\r\n    <div className=\"cardHeader\"><Card.Header>Storage Info</Card.Header></div>\r\n    <Card.Body style={{padding:\"2% 1% 0% 2%\"}}>\r\n    <Card.Title>\r\n    {driveUsagePct >= 90 ? <ProgressBar now={driveUsagePct} variant=\"danger\"  label={`${((driveUsage.usage/driveUsage.limit)*100).toFixed(2)}%`}/>:\r\n     driveUsagePct >= 75 ? <ProgressBar now={driveUsagePct} variant=\"warning\"  label={`${((driveUsage.usage/driveUsage.limit)*100).toFixed(2)}%`}/>:\r\n     <ProgressBar style={{width:\"15vw\"}} now={driveUsagePct} variant=\"success\"  label={`${((driveUsage.usage/driveUsage.limit)*100).toFixed(2)}%`}/>} \r\n    </Card.Title>      \r\n      <p>Total Limit : {(driveUsage.limit/(1024*1024*1024)).toFixed(2)} GB</p>\r\n      <p>Total Usage : {(driveUsage.usage/(1024*1024*1024)).toFixed(2)} GB</p>    \r\n      </Card.Body>     \r\n    </Card>\r\n    </div>\r\n    </div>\r\n\r\n\r\n    <div className=\"row\">\r\n    <div className=\"col\"  style={{padding:\"0% 0% 1% 2%\",margin:\"0% 2% 1% 5%\"}}>\r\n    <Card>\r\n    <div className=\"cardHeader\"><Card.Header>Drives Info</Card.Header></div>\r\n    <Card.Body style={{padding:\"0% 1% 0% 2%\"}}>\r\n    <div className=\"list-group\">\r\n     <ul>\r\n    \r\n      <li onClick={handleSelect} className=\"list-group-item\" name=\"googleDrive\"> <FaGoogleDrive/> : {driveTypes.googleDrive} drives added </li>\r\n      <li onClick={handleSelect} className=\"list-group-item\" name=\"oneDrive\"> <GrOnedrive/> : {driveTypes.oneDrive} drive{parseInt(driveTypes.oneDrive)>1 && \"s\"} added </li>     \r\n      <li onClick={handleSelect} className=\"list-group-item\" name=\"dropbox\"> <FaDropbox/> : {driveTypes.dropbox} drive{parseInt(driveTypes.dropbox)>1 && \"s\"} added </li>\r\n      {driveExpand.length>0 ? \r\n      <div className=\"driveList\" style={{marginTop:\"5%\"}}>\r\n      <h5>{driveExpand}(s)</h5>\r\n        {drives.filter(drive=>drive.storageType===driveExpand).map((drive)=>(\r\n          <ol key={drive.id} style={{fontSize:\"smaller\"}}>\r\n          <li style={{padding:\"0\",margin:\"0\"}} className=\"list-group-item\">  {drive.email}<br/> \r\n          <Progress percentage={(Math.round(parseInt(drive.storageUsage)/parseFloat(drive.storageLimit)*10000)/100)} />          \r\n          <button className=\"fileDelete\" onClick={(e)=>handleDelSubmit(drive.id,e)}> <DeleteIcon/></button>\r\n          </li>\r\n          </ol>\r\n          \r\n        ))}\r\n      \r\n      </div>\r\n      :null\r\n      }\r\n     </ul>\r\n     </div>\r\n\r\n    </Card.Body>     \r\n    </Card>\r\n    </div>\r\n\r\n    </div>\r\n    </div>\r\n\r\n  );\r\n}\r\n\r\nexport default DriveList;\r\n","import React, { useState, useEffect,useContext } from \"react\";\r\nimport axios from \"axios\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport {LoginContext} from \"./LoginContext\";\r\nimport {DrivesContext} from \"./DrivesRepo\";\r\nimport {FilesContext} from \"./FilesRepo\";\r\nimport {SearchContext} from \"./SearchContext\";\r\nimport _ from 'lodash';\r\nimport SkipNextIcon from '@material-ui/icons/SkipNext';\r\nimport SkipPreviousIcon from '@material-ui/icons/SkipPrevious';\r\nimport {Card}  from 'react-bootstrap';\r\nimport {FaGoogleDrive,FaDropbox} from \"react-icons/fa\";\r\nimport {GrOnedrive} from \"react-icons/gr\";\r\nfunction AddDrives({ match }) {\r\n  const [loggedIn, setLoggedIn] = useContext(LoginContext);\r\n  return (\r\n    <Card>\r\n    <div className=\"cardHeader\">\r\n    <Card.Header >Add Drives</Card.Header>\r\n    </div>\r\n    \r\n    <div className=\"addDrive\">\r\n    <Card.Body>\r\n     <ul>     \r\n      <li style={{\"borderRight\":\"1px solid rgb(68, 67, 67)\"}}> <a title=\"Google Drive\" href=\"/user/add/google\"><FaGoogleDrive/></a></li>\r\n      <li style={{\"borderRight\":\"1px solid rgb(68, 67, 67)\"}}> <a title=\"One Drive\" href=\"/user/add/ms\"><GrOnedrive/></a></li>\r\n      <li> <a title=\"Dropbox\" href=\"/user/add/db\"><FaDropbox/></a></li>\r\n     </ul>\r\n     </Card.Body>\r\n    </div>\r\n    </Card>\r\n  );\r\n}\r\n\r\nexport default AddDrives;\r\n","import React, { useState, useEffect,useContext } from \"react\";\r\nimport axios from \"axios\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport {LoginContext} from \"./LoginContext\";\r\n\r\nimport {FilesContext} from \"./FilesRepo\";\r\nimport Progress from \"./UploadProgressBar\";\r\nimport {Modal}  from 'react-bootstrap';\r\nfunction FileUpload(props) {\r\n  console.log(\"props.show is :\",props.show);\r\n  const [loggedIn, setLoggedIn] = useContext(LoginContext);\r\n  const  {files, setFiles} = useContext(FilesContext);\r\n  const [upFiles,setUpFiles]=useState([]);\r\n  const [fileNames,setFileNames]=useState(['Choose Files(s)']);\r\n  const [uploadPct,setUploadPct]=useState(0);\r\n  const [show, setShow] = useState(props.show);\r\n  const [messages,setMessage]=useState([\"Note:\"]);\r\n  const handleClose = () => {\r\n    setShow(false);\r\n    props.handleClose();\r\n    setMessage([\"Note: \"]);\r\n    setFileNames(['Choose Files(s)']);\r\n    setUpFiles([]);\r\n  };\r\n  const handleChange =(e)=>{\r\n    setMessage([\"Note: \"]);\r\n    setUpFiles(e.target.files);\r\n    setFileNames([...e.target.files].map((file)=>file.name));\r\n  }\r\n  useEffect(()=>{\r\n    fileNames.map((fname)=>{\r\n      files.map(file=>{\r\n        if(file.fileName===fname)\r\n        {\r\n          setMessage(prevMsg=>[...new Set([...prevMsg,`A file with ${fname} already exists, do you want upload this again?`])]);\r\n        }\r\n      })\r\n    })\r\n  },[fileNames]);\r\n\r\n  const handleSubmit = async (e)=>{\r\n    e.preventDefault();\r\n    console.log(\"files: \",upFiles);\r\n    console.log(\"file names: \",fileNames);\r\n\r\n    const formData = new FormData();\r\n    for(var i=0;i<upFiles.length;i++){\r\n      let upFile = upFiles.item(i);\r\n      formData.append('file', upFile);\r\n    }\r\n      // formData.append('uploadFiles', files);\r\n    // });\r\n    console.log(\"formData: \",formData);\r\n\r\n    try {\r\n      const res = await axios.post('/action/upload/multiple', formData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data'\r\n        },\r\n        onUploadProgress: progressEvent => {\r\n          setUploadPct(parseInt(Math.round((progressEvent.loaded * 100) / progressEvent.total)));\r\n          setTimeout(() => setUploadPct(0), 10000); \r\n        }         \r\n      });\r\n\r\n      // const { fileName, filePath } = res.data;\r\n\r\n      // setUploadedFile({ fileName, filePath });\r\n\r\n      console.log('File Uploaded : ',res.data);\r\n      setFileNames(['Choose Files(s)']);\r\n      setUpFiles([]);\r\n      setMessage([\"Note: \"]);\r\n    } catch (err) {\r\n      // if (err.response.status === 500) {\r\n        console.log('There was a problem with the server');\r\n      // } else {\r\n        console.log(err.response.data.msg);\r\n      // }\r\n    }\r\n\r\n\r\n\r\n  }\r\n  useEffect(()=>{\r\n    setShow(props.show);\r\n  },[props.show])\r\n\r\n  return (\r\n    <Modal \r\n      show={show}\r\n        onHide={handleClose}\r\n        backdrop=\"static\"\r\n        keyboard={false}\r\n        >\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Select files to upload</Modal.Title>          \r\n        </Modal.Header>\r\n        \r\n        <form onSubmit={handleSubmit}>\r\n        <Modal.Body>\r\n        <div className=\"custom-file mb-4\">\r\n          <input\r\n            type='file'\r\n            className='custom-file-input'\r\n            id='customFile'\r\n            onChange={handleChange}\r\n            multiple\r\n          />\r\n          <label style={{overflowY:\"hidden\"}} className='custom-file-label' htmlFor='customFile'>\r\n            {fileNames.map((fName,index)=>(\r\n              <span key={index}>{fName} </span>\r\n            ))}\r\n          </label>\r\n        </div>      \r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n        {\r\n          messages.length>1?\r\n         <div style={{backgroundColor:\"#440c05\",color:\"#fff\",padding:\"2%\"}}>\r\n           { messages.map((msg,index)=>(<p key={index}>{msg}</p>))\r\n           }\r\n        </div>\r\n          :\r\n          null\r\n        }\r\n        <Progress percentage={uploadPct} />\r\n        <input type='submit' value='Upload' className=\"btn btn-primary btn-block mt-4\"/>\r\n        \r\n        </Modal.Footer>\r\n        </form>\r\n    </Modal>\r\n  );\r\n}\r\n\r\nexport default FileUpload;\r\n","import React, { useState, useEffect,useContext, Component } from \"react\";\r\nimport Header from \"./Header\";\r\nimport Footer from \"./Footer\";\r\nimport axios from \"axios\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport {LoginContext} from \"./LoginContext\";\r\nimport {DrivesContext,DriveDeleteContext} from \"./DrivesRepo\";\r\nimport {DarkContext} from \"./SearchContext\";\r\nimport {FilesContext} from \"./FilesRepo\";\r\nimport FileList from \"./FileList\";\r\nimport DriveList from \"./DriveList\";\r\nimport AddDrives from \"./AddDrives\";\r\nimport FileUpload from \"./FileUpload\";\r\nimport classNames from \"classnames\";\r\nimport _ from 'lodash';\r\nimport sockIO from 'socket.io-client';\r\n\r\n\r\nfunction Home({ match }) {  \r\n  // const backEndPort=\"http://localhost:5000\";\r\n  let backEndPort=\"https://desolate-bastion-47247.herokuapp.com/\";\r\n  // if (process.env.NODE_ENV === 'production') {\r\n  //   backEndPort=\"https://desolate-bastion-47247.herokuapp.com/\"\r\n  // }\r\n  // else {\r\n  //   backEndPort=\"http://localhost:5000\";\r\n  // }\r\n  \r\n  \r\n  const customSwitchClass= classNames(\"custom-control\",\"custom-switch\");\r\n  const mimeSuffixName=['octet-stream','vnd.google-apps.spreadsheet','vnd.google-apps.document','vnd.google-apps.presentation','pdf'];\r\n  const mimeSuffixValue=['Plain','Spreadsheet','WordDocument','PowerPoint','PDF'];\r\n  const mimeSuffixMappings=new Object();\r\n\r\n  \r\n  useEffect(()=>{    \r\n  mimeSuffixName.forEach((item,index)=>{\r\n    mimeSuffixMappings[item]=mimeSuffixValue[index];    \r\n  });\r\n \r\n \r\n  },[])\r\n\r\n  useEffect(()=>{\r\n    var socketIO;\r\n    console.log(\"environment :\",process.env.NODE_ENV);\r\n    if (process.env.NODE_ENV === 'production') {\r\n      socketIO=sockIO.connect();\r\n    } else {\r\n      socketIO=sockIO.connect(backEndPort);\r\n    }\r\n    // socketIO = sockIO.connect(backEndPort);\r\n    console.log(\"socket is :\",socketIO);\r\n    socketIO.on('oneDriveFiles', function(data) {\r\n      console.log('Incoming onedriveFiles:', data.files.filter(file=>new Date(file.createdAt)>=new Date(JSON.parse(sessionStorage.lastFetchDt))));\r\n      // console.log(\"lastFetchedDt\",JSON.parse(sessionStorage.getItem(\"lastFetchDt\")));\r\n      setFiles((oldFiles)=> _.unionBy(data.files.filter(file=>new Date(file.createdAt)>=new Date(JSON.parse(sessionStorage.lastFetchDt))),oldFiles,'fileId'));\r\n    \r\n    });\r\n    socketIO.on('dbxFiles', function(data) {\r\n      console.log('Incoming dbxFiles:', data.files.filter(file=>new Date(file.createdAt)>=new Date(JSON.parse(sessionStorage.lastFetchDt))));\r\n      // console.log(\"last fetch dt\",JSON.parse(sessionStorage.lastFetchDt));\r\n      setFiles((oldFiles)=> _.unionBy(data.files.filter(file=>new Date(file.createdAt)>=new Date(JSON.parse(sessionStorage.lastFetchDt))),oldFiles,'fileId'));\r\n    \r\n    });\r\n    socketIO.on('googleFiles', function(data) {\r\n      console.log('Incoming googleFiles:', data.files.filter(file=>new Date(file.createdAt)>=new Date(JSON.parse(sessionStorage.lastFetchDt))));\r\n      setFiles((oldFiles)=> _.unionBy(data.files.filter(file=>new Date(file.createdAt)>=new Date(JSON.parse(sessionStorage.lastFetchDt))),oldFiles,'fileId'));\r\n    });   \r\n  },[])\r\n  \r\n  \r\n  \r\n  \r\n  \r\n  let history = useHistory();\r\n  // if (window.location.hash === \"#_=_\") {\r\n  //   history.replaceState\r\n  //     ? history.replaceState(null, null, window.location.href.split(\"#\")[0])\r\n  //     : (window.location.hash = \"\");\r\n  // }\r\n  \r\n  \r\n  const [driveAdded,setDriveAdded]=useState({status:false,type:\"\",email:\"\",message:\"\"});\r\n  const {driveDeleted,setDriveDeleted} = useContext(DriveDeleteContext);\r\n  const {darkMode, setDarkMode} = useContext(DarkContext);\r\n\r\n\r\n  useEffect(()=>{\r\n    const queryString = window.location.search;\r\n    console.log(\"queryString:\",queryString);\r\n  if(typeof queryString !== undefined && queryString !=='')\r\n  {\r\n  \r\n  const urlParams = new URLSearchParams(queryString);\r\n  if(urlParams.get('success')===\"true\"){\r\n    console.log(\"status is: \",urlParams.get('success'));\r\n    console.log(\"attempt is: \",urlParams.get('attempt'));\r\n    console.log(\"message : \",urlParams.get('message'));\r\n\r\n    if(urlParams.get('attempt').includes(\"add\")){\r\n    console.log(\"new Drive is: \",urlParams.get('newDrive'));\r\n    console.log(\"new Drive type is: \",urlParams.get('newDriveType'));\r\n    setDriveAdded({status:true,type:urlParams.get('newDriveType'),email:urlParams.get('newDrive'),message:urlParams.get('message')});\r\n    }\r\n\r\n  }\r\n  else {\r\n    console.log(\"status is: \",urlParams.get('success'));\r\n    console.log(\"status is: \",urlParams.get('attempt'));\r\n    console.log(\"message : \",urlParams.get('message'));\r\n    if(urlParams.get('attempt').includes(\"add\")){\r\n      setDriveAdded({status:false,type:\"NA\",email:\"NA\",message:urlParams.get('message')});\r\n    }\r\n  }\r\n  setTimeout(()=> setDriveAdded({status:false,type:\"\",email:\"\",message:\"\"}),10000);\r\n  window.history.replaceState({}, null, window.location.href.split(\"?\")[0]);\r\n  }\r\n   console.log(\"dark mode: \",darkMode);\r\n    if(darkMode)\r\n    {\r\n      \r\n      var elements=document.querySelectorAll(\"body,.card,.list-group-item,.tooltiptext\");\r\n      elements.forEach((element)=>{\r\n        element.style.backgroundColor=\"#000\";\r\n        element.style.color=\"#fff\";\r\n      })\r\n  \r\n    }\r\n    else\r\n    {\r\n      var elements=document.querySelectorAll(\"body,.card,.list-group-item,.tooltiptext\");\r\n      elements.forEach((element)=>{\r\n        element.style.backgroundColor=\"#fff\";\r\n        element.style.color=\"#000\";\r\n      })\r\n      \r\n\r\n    }\r\n\r\n    console.log(\"dark mode: \",darkMode);\r\n    if(darkMode)\r\n    {\r\n      \r\n      var elements=document.querySelectorAll(\"body,.card,.list-group-item,.tooltiptext\");\r\n      elements.forEach((element)=>{\r\n        element.style.backgroundColor=\"#000\";\r\n        element.style.color=\"#fff\";\r\n      })\r\n  \r\n    }\r\n    else\r\n    {\r\n      var elements=document.querySelectorAll(\"body,.card,.list-group-item,.tooltiptext\");\r\n      elements.forEach((element)=>{\r\n        element.style.backgroundColor=\"#fff\";\r\n        element.style.color=\"#000\";\r\n      })\r\n      \r\n\r\n    }\r\n    \r\n  },[])\r\n \r\n  \r\n\r\n\r\n  const {drives, setDrives} = useContext(DrivesContext);\r\n  \r\n  const  {files, setFiles} = useContext(FilesContext);\r\n \r\n  const [loggedIn, setLoggedIn] = useContext(LoginContext);\r\n  const [showUpload,setShow]=useState(false);\r\n  console.log(\" user home page\");\r\n  // const { params: { userName } = {} } = match;\r\n  useEffect(() => {\r\n    axios\r\n      .get(\"/user/data/read\", { withCredentials: true })\r\n      .then(async (response) => {\r\n        sessionStorage.setItem(\"lastFetchDt\", JSON.stringify(new Date()));\r\n        if(response.data.success){\r\n          console.log(\"response: \",response.data);\r\n        if(response.data.drives.length > 0){\r\n          setDrives(response.data.drives)\r\n          // console.log(\"files received:\",response.data.drives.map(({ files }) => files).flat());\r\n          setFiles( response.data.drives.map(({ files }) => files).flat().sort(function(a,b){\r\n            return new Date(b.createdAt) - new Date(a.createdAt);\r\n          }).map((file)=>{            \r\n            if((file.fileFolderType).includes('undefined'))\r\n            {\r\n              \r\n              let mimeSuffArr=(file.mimeType).split(\"/\");\r\n              let mimeSuff=(mimeSuffArr[mimeSuffArr.length-1]).toLowerCase();\r\n              \r\n              if(typeof mimeSuffixMappings[mimeSuff] !== 'undefined')  {                \r\n                file.fileFolderType=mimeSuffixMappings[mimeSuff];\r\n\r\n              } \r\n              else {\r\n                file.fileFolderType=\"Others\";                \r\n              }\r\n            }\r\n            return file;\r\n      \r\n          }));\r\n                    \r\n        }                    \r\n          else {\r\n          setDrives([]);\r\n        }\r\n\r\n        }\r\n        else\r\n        {\r\n          history.push(\"/\");\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        console.log(error);\r\n      });\r\n      \r\n\r\n  }, []);\r\n\r\nconst triggerUpload =()=>{\r\n  setShow(true);\r\n}\r\nconst handleUploadModalClose =()=>{\r\n  setShow(false);\r\n}\r\n  return (\r\n    <div>\r\n    <Header/>\r\n \r\n      {loggedIn.status && \r\n      <div className=\"container-fluid\">       \r\n      <div className=\"row\" style={{paddingTop:\"2%\"}}>\r\n      <div className=\"col-sm-2\" style={{padding:\"0\"}}>\r\n      <DriveList/>    \r\n      </div>\r\n      <div className=\"col-sm-8\">\r\n      <FileList/>\r\n      <br/>\r\n      {\r\n        driveAdded.status?         \r\n        <p style={{backgroundColor:\"green\",color:\"#fff\",fontSize:\"medium\",margin:\"2%\",padding:\"2%\"}}> {driveAdded.type} drive ({driveAdded.email}) added successfully</p>\r\n        :driveAdded.message.length>0? \r\n        <p style={{backgroundColor:\"red\",color:\"#fff\",fontSize:\"medium\",margin:\"2%\",padding:\"2%\"}}> {driveAdded.message}</p>:null\r\n      }\r\n      <br/>\r\n      {\r\n        driveDeleted.status?         \r\n        <p style={{backgroundColor:\"green\",color:\"#fff\",fontSize:\"medium\",margin:\"2%\",padding:\"2%\"}}> Drive removed successfully</p>\r\n        :driveDeleted.message.length>0? \r\n        <p style={{backgroundColor:\"red\",color:\"#fff\",fontSize:\"medium\",margin:\"2%\",padding:\"2%\"}}> {driveDeleted.message}</p>:null\r\n      }\r\n      </div>\r\n      <div className=\"col-sm-2\">        \r\n      <AddDrives/>      \r\n    <div className=\"cardHeader\" style={{marginTop:\"2%\"}}>\r\n      <button className=\"uploadButton\" onClick={triggerUpload}> Upload File</button>\r\n    </div>\r\n      <FileUpload show={showUpload} handleClose={handleUploadModalClose} />\r\n      </div>\r\n      </div>      \r\n      </div>      \r\n      }\r\n      <Footer />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import React , { useState,useContext } from \"react\";\r\nimport {useForm} from \"react-hook-form\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport {LoginContext} from \"./LoginContext\";\r\nfunction Register() {\r\nconst {register,watch, errors,handleSubmit}=useForm();\r\nlet history = useHistory();\r\nconst [nameTaken,setNameTaken] = useState(false);\r\nconst [loggedIn, setLoggedIn] = useContext(LoginContext);\r\nconsole.log(\"register\");\r\n\r\n\r\nconst onSubmit = (data,e) => {\r\n    axios\r\n      .post('/user/auth/register', data)\r\n      .then(response => {\r\n        if (response.data.status) {\r\n            console.log('successful signup')\r\n                setLoggedIn({username:response.data.username,status:response.data.status});\r\n                history.push(`/user/home/${response.data.username}`);\r\n        } else {\r\n            setNameTaken(true);\r\n        }\r\n    })\r\n      .catch(err => {\r\n        console.error(err);\r\n      });\r\n  \r\n\r\n    console.log(data);\r\n      e.preventDefault();\r\n      e.target.reset();    \r\n    \r\n  };\r\n\r\n\r\n  return (\r\n    <div>\r\n      <form onSubmit={handleSubmit(onSubmit)}>\r\n\r\n      <div className=\"form-group\">\r\n          <input type=\"text\" className=\"form-control\" placeholder= \"User Name\" name=\"username\" ref={register} required/>\r\n        </div>\r\n      \r\n\r\n        <div className=\"form-group\">\r\n          <input type=\"email\" className=\"form-control\" placeholder=\"Email\" name=\"email\" ref={register}/>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <input type=\"password\" placeholder=\"Password\" className=\"form-control\" name=\"password\" ref={register({pattern:/^(?=.*?[A-Z])(?=.*?[a-z])(?=.*?[0-9])(?=.*?[#?!@$%^&*-]).{8,}$/})} required/>\r\n          {errors.password && <p>Minimum eight characters, at least one letter and one number and a special character</p>}\r\n        </div>\r\n        <div className=\"form-group\">\r\n        <input type=\"password\" className=\"form-control\" name=\"cnfPassword\" ref={register({validate: (value) => value === watch('password')})} placeholder=\"Confirm Password\" required/>        \r\n        {errors.cnfPassword && <p>Passwords don't match</p>}\r\n        </div>\r\n        \r\n        <button type=\"submit\" className=\"btn signUp\">\r\n          Register\r\n        </button>\r\n        {nameTaken && <p> Sorry, email id already exists!</p>}\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Register;\r\n","import React , { useState,useContext } from \"react\";\r\nimport {useForm} from \"react-hook-form\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport {LoginContext} from \"./LoginContext\";\r\nfunction LoginTab() {\r\nconst {register,watch, errors,handleSubmit}=useForm();\r\nlet history = useHistory();\r\nconst [loginFail,setLoginFail] = useState(false);\r\nconst [loggedIn, setLoggedIn] = useContext(LoginContext);\r\nconsole.log(\"login tab\");\r\n\r\n\r\nconst onSubmit = (data,e) => {\r\n    axios\r\n      .post('/user/auth/login', data)\r\n      .then(response => {\r\n        if (response.data.authenticate) {\r\n          console.log(\"response: \",response.data);\r\n          setLoggedIn({username:response.data.username,status:response.data.authenticate});\r\n\r\n                history.push(`/user/home/${response.data.username}`);\r\n        } \r\n        else {\r\n          setLoginFail(true);\r\n        }\r\n    })\r\n      .catch(err => {\r\n        console.error(err);\r\n      });\r\n    \r\n    \r\n\r\n      e.preventDefault();\r\n      e.target.reset();    \r\n    \r\n  };\r\n  \r\n\r\n  return (\r\n    <div>\r\n      <form onSubmit={handleSubmit(onSubmit)}>\r\n\r\n        <div className=\"form-group\">\r\n          <input type=\"email\" className=\"form-control\" placeholder=\"Email\" name=\"email\" ref={register}/>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <input type=\"password\" placeholder=\"Password\" className=\"form-control\" name=\"password\" ref={register} required/>\r\n        </div>\r\n        <button type=\"submit\" className=\"btn signUp\">\r\n          Login\r\n        </button>\r\n        {loginFail && <p>Failed to login, please try again</p>}\r\n      </form>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default LoginTab;\r\n","import React, { useState } from \"react\";\r\nimport Header from \"./Header\";\r\nimport classNames from \"classnames\";\r\nimport Register from \"./RegisterTab\";\r\nimport LoginTab from \"./LoginTab\";\r\nimport { FcGoogle } from \"react-icons/fc\";\r\nimport logo from \"../oneStorage.png\";\r\n\r\nfunction SignUp() {\r\n  console.log(\"environment :\",process.env.NODE_ENV);\r\n  const containerClasses = classNames(\"container\", \"mt-5\");\r\n  const navClasses = classNames(\"nav\", \"nav-tabs\");\r\n  const navItemClasses = classNames(\"nav-link\", \"active\");\r\n  console.log(\"sign up\");\r\n  // const tabStyle = {width: \"20rem\" };\r\n\r\n  const [register, setRegister] = useState(false);\r\n  function registerClick() {\r\n    setRegister(true);\r\n  }\r\n  function loginClick() {\r\n    setRegister(false);\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <Header />\r\n      <div className={containerClasses}>\r\n        <ul className={navClasses}>\r\n          <li className=\"nav-item\">\r\n            <button onClick={loginClick} className={navItemClasses}>\r\n              Login\r\n            </button>\r\n          </li>\r\n          <li style={{ paddingLeft: \"0.5rem\" }} className=\"nav-item\">\r\n            <button onClick={registerClick} className=\"nav-link\">\r\n              Register\r\n            </button>\r\n          </li>\r\n        </ul>\r\n        <div className=\"row\">\r\n        <div className=\"col-sm-6\">\r\n          {register ? (\r\n            <div style={{paddingTop:\"2%\"}}>\r\n              <Register />\r\n            </div>\r\n          ) : (\r\n            <div>\r\n              <div className=\"card-body\">\r\n                <LoginTab />\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n        <div className=\"col-sm-6\">\r\n          <div\r\n            // style={{\r\n            //   color: \"white\"\r\n            // }}\r\n          >\r\n            <h1 style={{textShadow:\"0.5px 0.5px #440c05\"}}>OneStorage</h1>\r\n            <ul>\r\n              <h3>One interface for multiple cloud storages!</h3>\r\n              <ul>\r\n              <li> Add your google drive, one drive and dropbox accounts</li>\r\n              <li> Access all your files in an organized way, in one place</li>\r\n              <li> Manage multilple cloud storages with a single interface - realize more storage!</li>\r\n              </ul>  \r\n              <img src={logo} style={{position:\"absolute\",right:\"1%\"}}  width=\"600\" height=\"450\" alt=\"oneStorage logo\"/>            \r\n            </ul>\r\n          </div>\r\n        </div>\r\n        </div>\r\n        \r\n      </div>\r\n      \r\n    </div>\r\n    \r\n  );\r\n}\r\n\r\nexport default SignUp;\r\n","import React,{useContext} from \"react\";\r\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\r\nimport UserHome from \"./components/UserHome\";\r\nimport SignUp  from \"./components/SignUp\";\r\nimport {DrivesProvider,DriveDeleteProvider} from \"./components/DrivesRepo\";\r\nimport {FilesProvider} from \"./components/FilesRepo\";\r\nimport {SearchProvider,FilterProvider,DarkProvider} from \"./components/SearchContext\";\r\nimport {LoginContext} from \"./components/LoginContext\";\r\n\r\nfunction App() {\r\n  const [loggedIn, setLoggedIn] = useContext(LoginContext);\r\n  return (\r\n    <div>\r\n    <DrivesProvider>\r\n    <DriveDeleteProvider>\r\n    <FilesProvider>\r\n    <SearchProvider>\r\n    <DarkProvider>\r\n    <FilterProvider>\r\n    <Router>\r\n     {loggedIn.status? <Route path=\"/\" exact component={UserHome} />: <Route path=\"/\" exact component={SignUp} />}     \r\n     {loggedIn.status? <Route path=\"/user/home/:userName\" exact component={UserHome} />:<Route path=\"/user/home/:userName\" exact component={SignUp} />}     \r\n    </Router>\r\n    </FilterProvider>\r\n    </DarkProvider>\r\n    </SearchProvider>\r\n    </FilesProvider>\r\n    </DriveDeleteProvider>\r\n    </DrivesProvider>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport App from \"./App\";\r\nimport '../node_modules/bootstrap/dist/css/bootstrap.min.css';\r\nimport './components/OneStorage.css';\r\nimport {LogInProvider} from \"./components/LoginContext\";\r\n\r\n\r\n\r\nReactDOM.render(<LogInProvider><App/></LogInProvider>, document.getElementById(\"root\"));","module.exports = __webpack_public_path__ + \"static/media/oneStorage.1ca34507.png\";"],"sourceRoot":""}